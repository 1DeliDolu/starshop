---

ğŸ§  Stimulus: Profesyonel JavaScript YazÄ±mÄ±

### \[Stimulus: Writing Pro JavaScript] / \[Stimulus: Profesyonel JavaScript YazÄ±mÄ±]

ÅablonlarÄ±mÄ±zda nasÄ±l HTML yazacaÄŸÄ±mÄ±zÄ± biliyoruz. CSS iÃ§in Tailwind kullanÄ±yoruz. Peki ya JavaScript? TÄ±pkÄ± CSS gibi, bir `app.js` dosyamÄ±z var ve bu zaten sayfaya dahil edilmiÅŸ durumda. Yani dilediÄŸinizi buraya yazabilirsiniz.

Ama size kÃ¼Ã§Ã¼k ama gÃ¼Ã§lÃ¼ bir JavaScript kÃ¼tÃ¼phanesi olan **Stimulus**'u ÅŸiddetle tavsiye ederim. HTMLâ€™inizin bir bÃ¶lÃ¼mÃ¼nÃ¼ kÃ¼Ã§Ã¼k bir JavaScript dosyasÄ±na â€” yani bir **controller**â€™a â€” baÄŸlamanÄ±zÄ± saÄŸlar. BÃ¶ylece Ã¶rneÄŸin bir butona tÄ±klanÄ±nca, controller Ã¼zerindeki `greet()` metodu Ã§aÄŸrÄ±lÄ±r.

Stimulus Ã§ok basit ama etkili bir yapÄ± sunar. BasitliÄŸine raÄŸmen tÃ¼m arayÃ¼z ve etkileÅŸim ihtiyaÃ§larÄ±nÄ± gÃ¼venilir ve Ã¶ngÃ¶rÃ¼lebilir bir ÅŸekilde Ã§Ã¶zmenizi saÄŸlar.

---

ğŸ“¦ Stimulus Kurulumu

Stimulus bir JavaScript kÃ¼tÃ¼phanesidir ama Symfony'de bunun iÃ§in bir bundle vardÄ±r:

```bash
composer require symfony/stimulus-bundle
```

Kurulum sonrasÄ± bazÄ± deÄŸiÅŸiklikler olur:

**assets/app.js** dosyasÄ±nda ÅŸunlar vardÄ±r:

```js
import './bootstrap.js';
import './styles/app.css';
console.log('This log comes from assets/app.js - welcome to AssetMapper! ğŸ‰');
```

**assets/bootstrap.js**:

```js
import { startStimulusApp } from '@symfony/stimulus-bundle';
const app = startStimulusApp();
// app.register('some_controller_name', SomeImportedController);
```

**importmap.php** iÃ§ine ÅŸunlar eklenir:

```php
'@hotwired/stimulus' => ['version' => '3.2.2'],
'@symfony/stimulus-bundle' => [
    'path' => './vendor/symfony/stimulus-bundle/assets/dist/loader.js',
],
```

Ve ayrÄ±ca `assets/controllers/` klasÃ¶rÃ¼ oluÅŸturulur. Ä°Ã§inde Ã¶rnek bir controller dosyasÄ± bulunur:

```js
// assets/controllers/hello_controller.js
import { Controller } from '@hotwired/stimulus';

export default class extends Controller {
    connect() {
        this.element.textContent = 'Hello Stimulus! Edit me in assets/controllers/hello_controller.js';
    }
}
```

`hello_controller.js` dosyasÄ± sayesinde `data-controller="hello"` iÃ§eren bir HTML elementi bu controller ile eÅŸleÅŸir.

---

âš™ï¸ Stimulus NasÄ±l Ã‡alÄ±ÅŸÄ±r?

Sayfa yÃ¼klendiÄŸinde Stimulus `data-controller` iÃ§eren elementleri tespit eder ve ilgili controllerâ€™Ä± baÅŸlatÄ±r. Ã–rneÄŸin:

```html
<a data-controller="hello">Link</a>
```

Sayfada dinamik olarak eklenen HTMLâ€™lerde bile bu Ã§alÄ±ÅŸÄ±r. Ajax ile dÃ¶nen iÃ§eriklerde bile Stimulus o elementi gÃ¶rÃ¼r ve davranÄ±ÅŸÄ± tetikler.

---

âŒ KapatÄ±labilir Stimulus Controller'Ä±

Åimdi bir kapatma butonu iÃ§in controller oluÅŸturalÄ±m. `hello_controller.js` dosyasÄ±nÄ± kopyalayÄ±p adÄ±nÄ± `closeable_controller.js` yapalÄ±m:

```js
import { Controller } from '@hotwired/stimulus';

export default class extends Controller {
    close() {
        this.element.remove();
    }
}
```

`data-controller="closeable"` ile bir elementi baÄŸlayalÄ±m:

```html
<aside data-controller="closeable">
```

Ve butona ÅŸu actionâ€™Ä± ekleyelim:

```html
<button data-action="closeable#close">...</button>
```

Bu yapÄ± sayesinde butona tÄ±klandÄ±ÄŸÄ±nda aside elementi silinir.

---

ğŸ¨ Kapanmaya Animasyon Ekleme

AnÄ±nda silmek yerine, animasyonlu kapama yapalÄ±m. `transition-all` ve `overflow-hidden` sÄ±nÄ±flarÄ±nÄ± ekleyelim:

```html
<aside class="transition-all overflow-hidden" ...>
```

Controllerâ€™da ise ÅŸÃ¶yle deÄŸiÅŸtiriyoruz:

```js
export default class extends Controller {
    async close() {
        this.element.style.width = '0';
        await this.#waitForAnimation();
        this.element.remove();
    }

    #waitForAnimation() {
        return Promise.all(
            this.element.getAnimations().map((animation) => animation.finished),
        );
    }
}
```

Bu sayede elementin geniÅŸliÄŸi sÄ±fÄ±ra inerken animasyonlu geÃ§iÅŸ yapÄ±lÄ±r, ardÄ±ndan element DOMâ€™dan kaldÄ±rÄ±lÄ±r.

---

âœ… SonuÃ§

SayfayÄ± yenileyin, kapama butonuna tÄ±klayÄ±n... ve sihir gerÃ§ekleÅŸsin! ğŸª„
Harika bir kullanÄ±cÄ± deneyimi ve son derece modern bir yapÄ±!

SÄ±rada ne var? SPA â€” Single Page Application! Yani tam sayfa yenilemeleri olmadan gezilen bir site. Ama React mi gerekiyor? HayÄ±r. Bunu **Turbo** ile sadece 3 dakikada yapacaÄŸÄ±z!
