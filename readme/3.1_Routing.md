# Routing (YÃ¶nlendirme)

UygulamanÄ±z bir istek aldÄ±ÄŸÄ±nda, yanÄ±tÄ± oluÅŸturmak iÃ§in bir controller aksiyonunu Ã§aÄŸÄ±rÄ±r. Routing (yÃ¶nlendirme) yapÄ±landÄ±rmasÄ±, her gelen URL iÃ§in hangi aksiyonun Ã§alÄ±ÅŸtÄ±rÄ±lacaÄŸÄ±nÄ± tanÄ±mlar. AyrÄ±ca SEO dostu URL'ler oluÅŸturmak gibi baÅŸka faydalÄ± Ã¶zellikler de saÄŸlar (Ã¶rneÄŸin, /read/intro-to-symfony yerine index.php?article_id=57).

## Route OluÅŸturmak

Route'lar YAML, XML, PHP veya attribute ile yapÄ±landÄ±rÄ±labilir. TÃ¼m formatlar aynÄ± Ã¶zellikleri ve performansÄ± sunar, favorinizi seÃ§ebilirsiniz. Symfony, attribute kullanÄ±mÄ±nÄ± Ã¶nerir Ã§Ã¼nkÃ¼ route ve controller'Ä± aynÄ± yerde tutmak daha pratiktir.

### Attribute ile Route OluÅŸturmak

PHP attribute'larÄ±, route'larÄ± ilgili controller kodunun yanÄ±nda tanÄ±mlamanÄ±za olanak tanÄ±r.

BunlarÄ± kullanmadan Ã¶nce projenize biraz yapÄ±landÄ±rma eklemeniz gerekir. Projeniz Symfony Flex kullanÄ±yorsa, bu dosya zaten oluÅŸturulmuÅŸtur. Aksi halde, aÅŸaÄŸÄ±daki dosyayÄ± elle oluÅŸturun:

<div class="terminal-wrapper bg-black-4 rounded-t" style="background:#222; border-radius:8px; margin-bottom:16px;">
  <div class="flex justify-between py-1 px-3" style="display:flex; justify-content:space-between; align-items:center; padding:8px 16px;">
    <div class="terminal-controls">
      <span>â—</span>
      <span>â—</span>
      <span>â—</span>
    </div>
    <div class="terminal-copy js-activate-clipboard">
      <span class="fa fa-clipboard text-white" title="Copy Code" style="cursor:pointer; font-size:18px;" onclick="navigator.clipboard.writeText('# config/routes/attributes.yaml\ncontrollers:\n    resource:\n        path: ../../src/Controller/\n        namespace: App\\Controller\n    type: attribute\nkernel:\n    resource: App\\Kernel\n    type: attribute')">ğŸ“‹</span>
      <span class="js-copy-button-text"></span>
    </div>
  </div>
  <div class="js-copy-clipboard-target">
    <pre class="notranslate" style="color:#fff; margin:0; padding:16px;"><code class="language-yaml"># config/routes/attributes.yaml
controllers:
    resource:
        path: ../../src/Controller/
        namespace: App\Controller
    type: attribute
kernel:
    resource: App\Kernel
    type: attribute</code></pre>
  </div>
</div>

Bu yapÄ±landÄ±rma, Symfony'ye App\Controller namespace'inde ve src/Controller/ dizininde tanÄ±mlanan sÄ±nÄ±flardaki attribute ile tanÄ±mlanmÄ±ÅŸ route'larÄ± aramasÄ±nÄ± sÃ¶yler. Kernel de controller olarak davranabilir, bu Ã¶zellikle Symfony'yi mikroframework olarak kullanan kÃ¼Ã§Ã¼k uygulamalar iÃ§in faydalÄ±dÄ±r.

UygulamanÄ±zda /blog URL'si iÃ§in bir route tanÄ±mlamak istediÄŸinizi varsayalÄ±m. Bunun iÃ§in aÅŸaÄŸÄ±daki gibi bir controller sÄ±nÄ±fÄ± oluÅŸturun:

<div class="terminal-wrapper bg-black-4 rounded-t" style="background:#222; border-radius:8px; margin-bottom:16px;">
  <div class="flex justify-between py-1 px-3" style="display:flex; justify-content:space-between; align-items:center; padding:8px 16px;">
    <div class="terminal-controls">
      <span>â—</span>
      <span>â—</span>
      <span>â—</span>
    </div>
    <div class="terminal-copy js-activate-clipboard">
      <span class="fa fa-clipboard text-white" title="Copy Code" style="cursor:pointer; font-size:18px;" onclick="navigator.clipboard.writeText('// src/Controller/BlogController.php\nnamespace App\\Controller;\n\nuse Symfony\\Bundle\\FrameworkBundle\\Controller\\AbstractController;\nuse Symfony\\Component\\HttpFoundation\\Response;\nuse Symfony\\Component\\Routing\\Attribute\\Route;\n\nclass BlogController extends AbstractController\n{\n    #[Route(\'/blog\', name: \'blog_list\')]\n    public function list(): Response\n    {\n        // ...\n    }\n}')">ğŸ“‹</span>
      <span class="js-copy-button-text"></span>
    </div>
  </div>
  <div class="js-copy-clipboard-target">
    <pre class="notranslate" style="color:#fff; margin:0; padding:16px;"><code class="language-php">// src/Controller/BlogController.php
namespace App\Controller;

use Symfony\Bundle\FrameworkBundle\Controller\AbstractController;
use Symfony\Component\HttpFoundation\Response;
use Symfony\Component\Routing\Attribute\Route;

class BlogController extends AbstractController
{ #[Route('/blog', name: 'blog_list')]
public function list(): Response
{
// ...
}
}</code></pre>

  </div>
</div>

Bu yapÄ±landÄ±rma, kullanÄ±cÄ± /blog URL'sini istediÄŸinde eÅŸleÅŸen blog_list adlÄ± bir route tanÄ±mlar. EÅŸleÅŸme olduÄŸunda uygulama BlogController sÄ±nÄ±fÄ±nÄ±n list() metodunu Ã§alÄ±ÅŸtÄ±rÄ±r.

Bir URL'nin query string'i route eÅŸleÅŸmesinde dikkate alÄ±nmaz. Bu Ã¶rnekte, /blog?foo=bar ve /blog?foo=bar&bar=foo gibi URL'ler de blog_list route'u ile eÅŸleÅŸir.

AynÄ± dosyada birden fazla PHP sÄ±nÄ±fÄ± tanÄ±mlarsanÄ±z, Symfony sadece ilk sÄ±nÄ±fÄ±n route'larÄ±nÄ± yÃ¼kler, diÄŸerlerini gÃ¶rmezden gelir.

Route adÄ± (blog_list) ÅŸimdilik Ã¶nemli deÄŸil, ama ileride URL Ã¼retirken Ã¶nemli olacak. Sadece her route adÄ±nÄ±n uygulamada benzersiz olmasÄ± gerektiÄŸini unutmayÄ±n.

# YAML ile Route TanÄ±mlama

<div class="terminal-wrapper bg-black-4 rounded-t" style="background:#222; border-radius:8px; margin-bottom:16px;">
  <div class="flex justify-between py-1 px-3" style="display:flex; justify-content:space-between; align-items:center; padding:8px 16px;">
    <div class="terminal-controls">
      <span>â—</span>
      <span>â—</span>
      <span>â—</span>
    </div>
    <div class="terminal-copy js-activate-clipboard">
      <span class="fa fa-clipboard text-white" title="Copy Code" style="cursor:pointer; font-size:18px;" onclick="navigator.clipboard.writeText('blog_list:\n    path: /blog\n    # the controller value has the format \'controller_class::method_name\'\n    controller: App\\Controller\\BlogController::list')">ğŸ“‹</span>
      <span class="js-copy-button-text"></span>
    </div>
  </div>
  <div class="js-copy-clipboard-target">
    <pre class="notranslate" style="color:#fff; margin:0; padding:16px;"><code class="language-yaml">blog_list:
    path: /blog
    # the controller value has the format 'controller_class::method_name'
    controller: App\Controller\BlogController::list</code></pre>
  </div>
</div>

# XML ile Route TanÄ±mlama

<div class="terminal-wrapper bg-black-4 rounded-t" style="background:#222; border-radius:8px; margin-bottom:16px;">
  <div class="flex justify-between py-1 px-3" style="display:flex; justify-content:space-between; align-items:center; padding:8px 16px;">
    <div class="terminal-controls">
      <span>â—</span>
      <span>â—</span>
      <span>â—</span>
    </div>
    <div class="terminal-copy js-activate-clipboard">
      <span class="fa fa-clipboard text-white" title="Copy Code" style="cursor:pointer; font-size:18px;" onclick="navigator.clipboard.writeText('<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<routes xmlns=\"http://symfony.com/schema/routing\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://symfony.com/schema/routing\n        https://symfony.com/schema/routing/routing-1.0.xsd\">\n    <route id=\"blog_list\" path=\"/blog\"\n           controller=\"App\\Controller\\BlogController::list\"/>\n</routes>')">ğŸ“‹</span>
      <span class="js-copy-button-text"></span>
    </div>
  </div>
  <div class="js-copy-clipboard-target">
    <pre class="notranslate" style="color:#fff; margin:0; padding:16px;"><code class="language-xml"><?xml version="1.0" encoding="UTF-8" ?>
<routes xmlns="http://symfony.com/schema/routing"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://symfony.com/schema/routing
        https://symfony.com/schema/routing/routing-1.0.xsd">
    <route id="blog_list" path="/blog"
           controller="App\Controller\BlogController::list"/>
</routes></code></pre>
  </div>
</div>

# PHP ile Route TanÄ±mlama

<div class="terminal-wrapper bg-black-4 rounded-t" style="background:#222; border-radius:8px; margin-bottom:16px;">
  <div class="flex justify-between py-1 px-3" style="display:flex; justify-content:space-between; align-items:center; padding:8px 16px;">
    <div class="terminal-controls">
      <span>â—</span>
      <span>â—</span>
      <span>â—</span>
    </div>
    <div class="terminal-copy js-activate-clipboard">
      <span class="fa fa-clipboard text-white" title="Copy Code" style="cursor:pointer; font-size:18px;" onclick="navigator.clipboard.writeText('use App\\Controller\\BlogController;\nuse Symfony\\Component\\Routing\\Loader\\Configurator\\RoutingConfigurator;\n\nreturn function (RoutingConfigurator $routes): void {\n    $routes->add(\'blog_list\', \'/blog\')\n        // the controller value has the format [controller_class, method_name]\n        ->controller([BlogController::class, \'list\'])\n    ;\n};')">ğŸ“‹</span>
      <span class="js-copy-button-text"></span>
    </div>
  </div>
  <div class="js-copy-clipboard-target">
    <pre class="notranslate" style="color:#fff; margin:0; padding:16px;"><code class="language-php">use App\Controller\BlogController;
use Symfony\Component\Routing\Loader\Configurator\RoutingConfigurator;

return function (RoutingConfigurator $routes): void {
$routes->add('blog_list', '/blog')
// the controller value has the format [controller_class, method_name]
->controller([BlogController::class, 'list'])
;
};</code></pre>

  </div>
</div>

Symfony varsayÄ±lan olarak YAML ve PHP formatÄ±nda tanÄ±mlanan route'larÄ± yÃ¼kler. XML formatÄ±nda route tanÄ±mlarsanÄ±z, src/Kernel.php dosyasÄ±nÄ± gÃ¼ncellemeniz gerekir.

## HTTP MetodlarÄ±nÄ± EÅŸleÅŸtirmek

VarsayÄ±lan olarak, route'lar tÃ¼m HTTP fiillerini (GET, POST, PUT, vb.) eÅŸleÅŸtirir. Her route'un hangi fiillere yanÄ±t vereceÄŸini kÄ±sÄ±tlamak iÃ§in methods seÃ§eneÄŸini kullanÄ±n:

# Attribute ile

<div class="terminal-wrapper bg-black-4 rounded-t" style="background:#222; border-radius:8px; margin-bottom:16px;">
  <div class="flex justify-between py-1 px-3" style="display:flex; justify-content:space-between; align-items:center; padding:8px 16px;">
    <div class="terminal-controls">
      <span>â—</span>
      <span>â—</span>
      <span>â—</span>
    </div>
    <div class="terminal-copy js-activate-clipboard">
      <span class="fa fa-clipboard text-white" title="Copy Code" style="cursor:pointer; font-size:18px;" onclick="navigator.clipboard.writeText('namespace App\\Controller;\n\nuse Symfony\\Bundle\\FrameworkBundle\\Controller\\AbstractController;\nuse Symfony\\Component\\HttpFoundation\\Response;\nuse Symfony\\Component\\Routing\\Attribute\\Route;\n\nclass BlogApiController extends AbstractController\n{\n    #[Route(\'/api/posts/{id}\', methods: [\'GET\', \'HEAD\'])]\n    public function show(int $id): Response\n    {\n        // ... return a JSON response with the post\n    }\n\n    #[Route(\'/api/posts/{id}\', methods: [\'PUT\'])]\n    public function edit(int $id): Response\n    {\n        // ... edit a post\n    }\n}')">ğŸ“‹</span>
      <span class="js-copy-button-text"></span>
    </div>
  </div>
  <div class="js-copy-clipboard-target">
    <pre class="notranslate" style="color:#fff; margin:0; padding:16px;"><code class="language-php">namespace App\Controller;

use Symfony\Bundle\FrameworkBundle\Controller\AbstractController;
use Symfony\Component\HttpFoundation\Response;
use Symfony\Component\Routing\Attribute\Route;

class BlogApiController extends AbstractController
{
#[Route('/api/posts/{id}', methods: ['GET', 'HEAD'])]
public function show(int $id): Response
{
// ... return a JSON response with the post
}

    #[Route('/api/posts/{id}', methods: ['PUT'])]
    public function edit(int $id): Response
    {
        // ... edit a post
    }

}</code></pre>

  </div>
</div>

# YAML ile

<div class="terminal-wrapper bg-black-4 rounded-t" style="background:#222; border-radius:8px; margin-bottom:16px;">
  <div class="flex justify-between py-1 px-3" style="display:flex; justify-content:space-between; align-items:center; padding:8px 16px;">
    <div class="terminal-controls">
      <span>â—</span>
      <span>â—</span>
      <span>â—</span>
    </div>
    <div class="terminal-copy js-activate-clipboard">
      <span class="fa fa-clipboard text-white" title="Copy Code" style="cursor:pointer; font-size:18px;" onclick="navigator.clipboard.writeText('api_post_show:\n    path:       /api/posts/{id}\n    controller: App\\Controller\\BlogApiController::show\n    methods:    GET|HEAD\n\napi_post_edit:\n    path:       /api/posts/{id}\n    controller: App\\Controller\\BlogApiController::edit    methods:    PUT')">ğŸ“‹</span>
      <span class="js-copy-button-text"></span>
    </div>
  </div>
  <div class="js-copy-clipboard-target">
    <pre class="notranslate" style="color:#fff; margin:0; padding:16px;"><code class="language-yaml">api_post_show:
    path:       /api/posts/{id}
    controller: App\Controller\BlogApiController::show
    methods:    GET|HEAD

api_post_edit:
path: /api/posts/{id}
controller: App\Controller\BlogApiController::edit
methods: PUT</code></pre>

  </div>
</div>

# XML ile

<div class="terminal-wrapper bg-black-4 rounded-t" style="background:#222; border-radius:8px; margin-bottom:16px;">
  <div class="flex justify-between py-1 px-3" style="display:flex; justify-content:space-between; align-items:center; padding:8px 16px;">
    <div class="terminal-controls">
      <span>â—</span>
      <span>â—</span>
      <span>â—</span>
    </div>
    <div class="terminal-copy js-activate-clipboard">
      <span class="fa fa-clipboard text-white" title="Copy Code" style="cursor:pointer; font-size:18px;" onclick="navigator.clipboard.writeText('<?xml version=\"1.0\" encoding=\"UTF-8\" ?><routes xmlns=\"http://symfony.com/schema/routing\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://symfony.com/schema/routing\n        https://symfony.com/schema/routing/routing-1.0.xsd\">   <route id=\"api_post_show\" path=\"/api/posts/{id}\"\n        controller=\"App\\Controller\\BlogApiController::show\"\n        methods=\"GET|HEAD\"/>   <route id=\"api_post_edit\" path=\"/api/posts/{id}\"\n        controller=\"App\\Controller\\BlogApiController::edit\"\n        methods=\"PUT\"/></routes>')">ğŸ“‹</span>
      <span class="js-copy-button-text"></span>
    </div>
  </div>
  <div class="js-copy-clipboard-target">
    <pre class="notranslate" style="color:#fff; margin:0; padding:16px;"><code class="language-xml"><?xml version="1.0" encoding="UTF-8" ?>
<routes xmlns="http://symfony.com/schema/routing"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://symfony.com/schema/routing
        https://symfony.com/schema/routing/routing-1.0.xsd">
    <route id="api_post_show" path="/api/posts/{id}"
        controller="App\Controller\BlogApiController::show"
        methods="GET|HEAD"/>

    <route id="api_post_edit" path="/api/posts/{id}"
        controller="App\Controller\BlogApiController::edit"
        methods="PUT"/>

</routes></code></pre>

  </div>
</div>

<div style="background:#19c37d; border-radius:8px; padding:12px; margin-bottom:16px; display:flex; align-items:center;">
  <span style="font-size:24px; margin-right:12px;">ğŸ’¡</span>
  <span style="color:#222; font-size:16px;">HTML formlar sadece GET ve POST metodlarÄ±nÄ± destekler. Bir route'u HTML formundan farklÄ± bir metodla Ã§aÄŸÄ±rmak istiyorsanÄ±z, kullanmak istediÄŸiniz metodu belirten <b>_method</b> adlÄ± gizli bir alan ekleyin (Ã¶rneÄŸin <code>&lt;input type="hidden" name="_method" value="PUT"&gt;</code>). Symfony Forms ile form oluÅŸturuyorsanÄ±z, <b>framework.http_method_override</b> seÃ§eneÄŸi <b>true</b> ise bu otomatik olarak yapÄ±lÄ±r.</span>
</div>

## Ortam EÅŸleÅŸtirme (Matching Environments)

Bir route'u sadece mevcut yapÄ±landÄ±rma ortamÄ± verilen deÄŸere eÅŸleÅŸtiÄŸinde kaydetmek iÃ§in env seÃ§eneÄŸini kullanÄ±n:

<div class="terminal-wrapper bg-black-4 rounded-t" style="background:#222; border-radius:8px; margin-bottom:16px;">
  <div class="flex justify-between py-1 px-3" style="display:flex; justify-content:space-between; align-items:center; padding:8px 16px;">
    <div class="terminal-controls">
      <span>â—</span>
      <span>â—</span>
      <span>â—</span>
    </div>
    <div class="terminal-copy js-activate-clipboard">
      <span class="fa fa-clipboard text-white" title="Copy Code" style="cursor:pointer; font-size:18px;" onclick="navigator.clipboard.writeText('use App\\Controller\\DefaultController;\nuse Symfony\\Component\\Routing\\Loader\\Configurator\\RoutingConfigurator;\n\nreturn function (RoutingConfigurator $routes): void {\n    $routes->add(\'tools\', \'/tools\')\n        ->controller([DefaultController::class, \'developerTools\'])\n        ->env(\'dev\')\n    ;\n};')">ğŸ“‹</span>
      <span class="js-copy-button-text"></span>
    </div>
  </div>
  <div class="js-copy-clipboard-target">
    <pre class="notranslate" style="color:#fff; margin:0; padding:16px;"><code class="language-php">use App\Controller\DefaultController;
use Symfony\Component\Routing\Loader\Configurator\RoutingConfigurator;

return function (RoutingConfigurator $routes): void {
$routes->add('tools', '/tools')
->controller([DefaultController::class, 'developerTools'])
->env('dev')
;
};</code></pre>

  </div>
</div>

## Ä°fade EÅŸleÅŸtirme (Matching Expressions)

BazÄ± route'larÄ±n rastgele eÅŸleÅŸme mantÄ±ÄŸÄ±na gÃ¶re eÅŸleÅŸmesini istiyorsanÄ±z condition seÃ§eneÄŸini kullanÄ±n:

<div class="terminal-wrapper bg-black-4 rounded-t" style="background:#222; border-radius:8px; margin-bottom:16px;">
  <div class="flex justify-between py-1 px-3" style="display:flex; justify-content:space-between; align-items:center; padding:8px 16px;">
    <div class="terminal-controls">
      <span>â—</span>
      <span>â—</span>
      <span>â—</span>
    </div>
    <div class="terminal-copy js-activate-clipboard">
      <span class="fa fa-clipboard text-white" title="Copy Code" style="cursor:pointer; font-size:18px;" onclick="navigator.clipboard.writeText('use App\\Controller\\DefaultController;\nuse Symfony\\Component\\Routing\\Loader\\Configurator\\RoutingConfigurator;\n\nreturn function (RoutingConfigurator $routes): void {\n    $routes->add(\'contact\', \'/contact\')\n        ->controller([DefaultController::class, \'contact\'])\n        ->condition(\'context.getMethod() in [\"GET\", \"HEAD\"] and request.headers.get(\"User-Agent\") matches \/firefox\/i\' )\n    ;\n    $routes->add(\'post_show\', \'/posts/{id}\')\n        ->controller([DefaultController::class, \'showPost\'])\n        ->condition(\'params[\"id\"] < 1000\')\n    ;\n};')">ğŸ“‹</span>
      <span class="js-copy-button-text"></span>
    </div>
  </div>
  <div class="js-copy-clipboard-target">
    <pre class="notranslate" style="color:#fff; margin:0; padding:16px;"><code class="language-php">use App\Controller\DefaultController;
use Symfony\Component\Routing\Loader\Configurator\RoutingConfigurator;

return function (RoutingConfigurator $routes): void {
$routes->add('contact', '/contact')
->controller([DefaultController::class, 'contact'])
->condition('context.getMethod() in ["GET", "HEAD"] and request.headers.get("User-Agent") matches "/firefox/i"')
;
$routes->add('post_show', '/posts/{id}')
->controller([DefaultController::class, 'showPost'])
->condition('params["id"] < 1000')
;
};</code></pre>

  </div>
</div>

condition seÃ§eneÄŸinin deÄŸeri, geÃ§erli expression language sÃ¶zdizimini kullanan bir ifadedir ve Symfony tarafÄ±ndan oluÅŸturulan ÅŸu deÄŸiÅŸkenleri kullanabilir:

-   <b>context</b>: Route eÅŸleÅŸmesinde temel bilgileri tutan RequestContext Ã¶rneÄŸi.
-   <b>request</b>: GeÃ§erli isteÄŸi temsil eden Symfony Request nesnesi.
-   <b>params</b>: GeÃ§erli route iÃ§in eÅŸleÅŸen parametrelerin dizisi.

AyrÄ±ca ÅŸu fonksiyonlarÄ± da kullanabilirsiniz:

-   <b>env(string $name)</b>: Ortam deÄŸiÅŸkeni deÄŸerini dÃ¶ndÃ¼rÃ¼r.
-   <b>service(string $alias)</b>: Routing condition servisini dÃ¶ndÃ¼rÃ¼r.

Ã–nce, route koÅŸullarÄ±nda kullanmak istediÄŸiniz servislere #[AsRoutingConditionService] attribute'u veya routing.condition_service etiketi ekleyin:

<div class="terminal-wrapper bg-black-4 rounded-t" style="background:#222; border-radius:8px; margin-bottom:16px;">
  <div class="flex justify-between py-1 px-3" style="display:flex; justify-content:space-between; align-items:center; padding:8px 16px;">
    <div class="terminal-controls">
      <span>â—</span>
      <span>â—</span>
      <span>â—</span>
    </div>
    <div class="terminal-copy js-activate-clipboard">
      <span class="fa fa-clipboard text-white" title="Copy Code" style="cursor:pointer; font-size:18px;" onclick="navigator.clipboard.writeText('use Symfony\\Bundle\\FrameworkBundle\\Routing\\Attribute\\AsRoutingConditionService;\nuse Symfony\\Component\\HttpFoundation\\Request;\n\n#[AsRoutingConditionService(alias: \'route_checker\')]\nclass RouteChecker\n{\n    public function check(Request $request): bool\n    {\n        // ...\n    }\n}')">ğŸ“‹</span>
      <span class="js-copy-button-text"></span>
    </div>
  </div>
  <div class="js-copy-clipboard-target">
    <pre class="notranslate" style="color:#fff; margin:0; padding:16px;"><code class="language-php">use Symfony\Bundle\FrameworkBundle\Routing\Attribute\AsRoutingConditionService;
use Symfony\Component\HttpFoundation\Request;

#[AsRoutingConditionService(alias: 'route_checker')]
class RouteChecker
{
public function check(Request $request): bool
{
// ...
}
}</code></pre>

  </div>
</div>

Sonra, service() fonksiyonunu kullanarak bu servisi koÅŸul iÃ§inde referans verin:

<div class="terminal-wrapper bg-black-4 rounded-t" style="background:#222; border-radius:8px; margin-bottom:16px;">
  <div class="flex justify-between py-1 px-3" style="display:flex; justify-content:space-between; align-items:center; padding:8px 16px;">
    <div class="terminal-controls">
      <span>â—</span>
      <span>â—</span>
      <span>â—</span>
    </div>
    <div class="terminal-copy js-activate-clipboard">
      <span class="fa fa-clipboard text-white" title="Copy Code" style="cursor:pointer; font-size:18px;" onclick="navigator.clipboard.writeText('#[Route(condition: "service(\'route_checker\').check(request)")]\n#[Route(condition: "service(\'App\\\\Service\\\\RouteChecker\').check(request)")]')">ğŸ“‹</span>
      <span class="js-copy-button-text"></span>
    </div>
  </div>
  <div class="js-copy-clipboard-target">
    <pre class="notranslate" style="color:#fff; margin:0; padding:16px;"><code class="language-php">#[Route(condition: "service('route_checker').check(request)")]
#[Route(condition: "service('App\\Service\\RouteChecker').check(request)")]</code></pre>
  </div>
</div>

Arka planda, ifadeler ham PHP'ye derlenir. Bu nedenle, condition anahtarÄ±nÄ± kullanmak, altta yatan PHP'nin Ã§alÄ±ÅŸmasÄ± dÄ±ÅŸÄ±nda ekstra bir yÃ¼k getirmez.

KoÅŸullar, URL Ã¼retirken dikkate alÄ±nmaz (bu makalenin ilerleyen kÄ±smÄ±nda aÃ§Ä±klanacak).

<div style="background:#f7b955; border-radius:8px; padding:12px; margin-bottom:16px; display:flex; align-items:center;">
  <span style="font-size:24px; margin-right:12px;">âš ï¸</span>
  <span style="color:#222; font-size:16px;">KoÅŸullar, URL Ã¼retirken dikkate alÄ±nmaz (bu makalenin ilerleyen kÄ±smÄ±nda aÃ§Ä±klanacak).</span>
</div>

## Route'larÄ± Debug Etmek

UygulamanÄ±z bÃ¼yÃ¼dÃ¼kÃ§e, Ã§ok fazla route olacak. Symfony, routing sorunlarÄ±nÄ± debug etmek iÃ§in bazÄ± komutlar iÃ§erir. Ã–ncelikle, debug:router komutu uygulamanÄ±zdaki tÃ¼m route'larÄ± Symfony'nin deÄŸerlendirdiÄŸi sÄ±rayla listeler:

<div class="terminal-wrapper bg-black-4 rounded-t" style="background:#222; border-radius:8px; margin-bottom:16px;">
  <div class="flex justify-between py-1 px-3" style="display:flex; justify-content:space-between; align-items:center; padding:8px 16px;">
    <div class="terminal-controls">
      <span>â—</span>
      <span>â—</span>
      <span>â—</span>
    </div>
    <div class="terminal-copy js-activate-clipboard">
      <span class="fa fa-clipboard text-white" title="Copy Code" style="cursor:pointer; font-size:18px;" onclick="navigator.clipboard.writeText('php bin/console debug:router')">ğŸ“‹</span>
      <span class="js-copy-button-text"></span>
    </div>
  </div>
  <div class="js-copy-clipboard-target">
    <pre class="notranslate" style="color:#fff; margin:0; padding:16px;"><code class="language-bash">php bin/console debug:router</code></pre>
  </div>
</div>

---

Name Method Scheme Host Path

---

homepage ANY ANY ANY /
contact GET ANY ANY /contact
contact_process POST ANY ANY /contact
article_show ANY ANY ANY /articles/{\_locale}/{year}/{title}.{\_format}
blog ANY ANY ANY /blog/{page}
blog_show ANY ANY ANY /blog/{slug}

---

<div class="terminal-wrapper bg-black-4 rounded-t" style="background:#222; border-radius:8px; margin-bottom:16px;">
  <div class="flex justify-between py-1 px-3" style="display:flex; justify-content:space-between; align-items:center; padding:8px 16px;">
    <div class="terminal-controls">
      <span>â—</span>
      <span>â—</span>
      <span>â—</span>
    </div>
    <div class="terminal-copy js-activate-clipboard">
      <span class="fa fa-clipboard text-white" title="Copy Code" style="cursor:pointer; font-size:18px;" onclick="navigator.clipboard.writeText('php bin/console debug:router --show-aliases')">ğŸ“‹</span>
      <span class="js-copy-button-text"></span>
    </div>
  </div>
  <div class="js-copy-clipboard-target">
    <pre class="notranslate" style="color:#fff; margin:0; padding:16px;"><code class="language-bash">php bin/console debug:router --show-aliases</code></pre>
  </div>
</div>

<div class="terminal-wrapper bg-black-4 rounded-t" style="background:#222; border-radius:8px; margin-bottom:16px;">
  <div class="flex justify-between py-1 px-3" style="display:flex; justify-content:space-between; align-items:center; padding:8px 16px;">
    <div class="terminal-controls">
      <span>â—</span>
      <span>â—</span>
      <span>â—</span>
    </div>
    <div class="terminal-copy js-activate-clipboard">
      <span class="fa fa-clipboard text-white" title="Copy Code" style="cursor:pointer; font-size:18px;" onclick="navigator.clipboard.writeText('php bin/console debug:router --method=GET')">ğŸ“‹</span>
      <span class="js-copy-button-text"></span>
    </div>
  </div>
  <div class="js-copy-clipboard-target">
    <pre class="notranslate" style="color:#fff; margin:0; padding:16px;"><code class="language-bash">php bin/console debug:router --method=GET</code></pre>
  </div>
</div>

<div class="terminal-wrapper bg-black-4 rounded-t" style="background:#222; border-radius:8px; margin-bottom:16px;">
  <div class="flex justify-between py-1 px-3" style="display:flex; justify-content:space-between; align-items:center; padding:8px 16px;">
    <div class="terminal-controls">
      <span>â—</span>
      <span>â—</span>
      <span>â—</span>
    </div>
    <div class="terminal-copy js-activate-clipboard">
      <span class="fa fa-clipboard text-white" title="Copy Code" style="cursor:pointer; font-size:18px;" onclick="navigator.clipboard.writeText('php bin/console debug:router --method=ANY')">ğŸ“‹</span>
      <span class="js-copy-button-text"></span>
    </div>
  </div>
  <div class="js-copy-clipboard-target">
    <pre class="notranslate" style="color:#fff; margin:0; padding:16px;"><code class="language-bash">php bin/console debug:router --method=ANY</code></pre>
  </div>
</div>

7.3

--method seÃ§eneÄŸi Symfony 7.3 ile gelmiÅŸtir.

Bir route'un adÄ±nÄ± (veya adÄ±nÄ±n bir kÄ±smÄ±nÄ±) bu argÃ¼mana geÃ§irerek route detaylarÄ±nÄ± yazdÄ±rabilirsiniz:

<div class="terminal-wrapper bg-black-4 rounded-t" style="background:#222; border-radius:8px; margin-bottom:16px;">
  <div class="flex justify-between py-1 px-3" style="display:flex; justify-content:space-between; align-items:center; padding:8px 16px;">
    <div class="terminal-controls">
      <span>â—</span>
      <span>â—</span>
      <span>â—</span>
    </div>
    <div class="terminal-copy js-activate-clipboard">
      <span class="fa fa-clipboard text-white" title="Copy Code" style="cursor:pointer; font-size:18px;" onclick="navigator.clipboard.writeText('php bin/console debug:router app_lucky_number')">ğŸ“‹</span>
      <span class="js-copy-button-text"></span>
    </div>
  </div>
  <div class="js-copy-clipboard-target">
    <pre class="notranslate" style="color:#fff; margin:0; padding:16px;"><code class="language-bash">php bin/console debug:router app_lucky_number</code></pre>
  </div>
</div>

+-------------+---------------------------------------------------------+
| Property | Value |
+-------------+---------------------------------------------------------+
| Route Name | app_lucky_number |
| Path | /lucky/number/{max} |
| ... | ... |
| Options | compiler_class: Symfony\Component\Routing\RouteCompiler |
| | utf8: true |
+-------------+---------------------------------------------------------+

DiÄŸer komut router:match ve verilen URL ile hangi route'un eÅŸleÅŸeceÄŸini gÃ¶sterir. BeklediÄŸiniz controller aksiyonu Ã§alÄ±ÅŸmÄ±yorsa nedenini bulmak iÃ§in faydalÄ±dÄ±r:

<div class="terminal-wrapper bg-black-4 rounded-t" style="background:#222; border-radius:8px; margin-bottom:16px;">
  <div class="flex justify-between py-1 px-3" style="display:flex; justify-content:space-between; align-items:center; padding:8px 16px;">
    <div class="terminal-controls">
      <span>â—</span>
      <span>â—</span>
      <span>â—</span>
    </div>
    <div class="terminal-copy js-activate-clipboard">
      <span class="fa fa-clipboard text-white" title="Copy Code" style="cursor:pointer; font-size:18px;" onclick="navigator.clipboard.writeText('php bin/console router:match /lucky/number/8')">ğŸ“‹</span>
      <span class="js-copy-button-text"></span>
    </div>
  </div>
  <div class="js-copy-clipboard-target">
    <pre class="notranslate" style="color:#fff; margin:0; padding:16px;"><code class="language-bash">php bin/console router:match /lucky/number/8</code></pre>
  </div>
</div>

[OK] Route "app_lucky_number" matches

## Route Parametreleri

Ã–nceki Ã¶rneklerde URL hiÃ§ deÄŸiÅŸmiyordu (Ã¶r: /blog). Ancak, genellikle URL'nin bazÄ± kÄ±sÄ±mlarÄ±nÄ±n deÄŸiÅŸken olmasÄ± gerekir. Ã–rneÄŸin, bir blog yazÄ±sÄ±nÄ± gÃ¶stermek iÃ§in URL'de baÅŸlÄ±k veya slug bulunur (Ã¶r: /blog/ilk-yazi veya /blog/symfony-hakkinda).

Symfony route'larÄ±nda deÄŸiÅŸken kÄ±sÄ±mlar { } ile yazÄ±lÄ±r. Ã–rneÄŸin, blog yazÄ±sÄ± iÃ§eriÄŸini gÃ¶sterecek route ÅŸÃ¶yle tanÄ±mlanÄ±r:

<div class="terminal-wrapper bg-black-4 rounded-t" style="background:#222; border-radius:8px; margin-bottom:16px;">
  <div class="flex justify-between py-1 px-3" style="display:flex; justify-content:space-between; align-items:center; padding:8px 16px;">
    <div class="terminal-controls">
      <span>â—</span>
      <span>â—</span>
      <span>â—</span>
    </div>
    <div class="terminal-copy js-activate-clipboard">
      <span class="fa fa-clipboard text-white" title="Copy Code" style="cursor:pointer; font-size:18px;" onclick="navigator.clipboard.writeText('use App\\Controller\\BlogController;\nuse Symfony\\Component\\Routing\\Loader\\Configurator\\RoutingConfigurator;\n\nreturn function (RoutingConfigurator $routes): void {\n    $routes->add(\'blog_show\', \'/blog/{slug}\')\n        ->controller([BlogController::class, \'show\'])\n    ;\n};')">ğŸ“‹</span>
      <span class="js-copy-button-text"></span>
    </div>
  </div>
  <div class="js-copy-clipboard-target">
    <pre class="notranslate" style="color:#fff; margin:0; padding:16px;"><code class="language-php">use App\Controller\BlogController;
use Symfony\Component\Routing\Loader\Configurator\RoutingConfigurator;

return function (RoutingConfigurator $routes): void {
$routes->add('blog_show', '/blog/{slug}')
->controller([BlogController::class, 'show'])
;
};</code></pre>

  </div>
</div>

DeÄŸiÅŸken kÄ±smÄ±n adÄ± ({slug} Ã¶rneÄŸinde) PHP'de bir deÄŸiÅŸken olarak oluÅŸturulur ve route iÃ§eriÄŸi controller'a aktarÄ±lÄ±r. Bir kullanÄ±cÄ± /blog/ilk-yazi adresine giderse, Symfony BlogController iÃ§indeki show() metodunu Ã§alÄ±ÅŸtÄ±rÄ±r ve $slug = 'ilk-yazi' olarak parametre gÃ¶nderir.

Route'lar istediÄŸiniz kadar parametre tanÄ±mlayabilir, ancak her parametre bir route'ta yalnÄ±zca bir kez kullanÄ±labilir (Ã¶r: /blog/posts-about-{category}/page/{pageNumber}).

## Parametre DoÄŸrulama

Diyelim ki uygulamanÄ±zda blog_show route'u (URL: /blog/{slug}) ve blog_list route'u (URL: /blog/{page}) var. Route parametreleri her deÄŸeri kabul ettiÄŸi iÃ§in, ikisini ayÄ±rt etmenin bir yolu yok.

KullanÄ±cÄ± /blog/ilk-yazi adresini isterse, iki route da eÅŸleÅŸir ve Symfony ilk tanÄ±mlanan route'u kullanÄ±r. Bunu dÃ¼zeltmek iÃ§in, {page} parametresine requirements seÃ§eneÄŸi ile doÄŸrulama ekleyin:

<div class="terminal-wrapper bg-black-4 rounded-t" style="background:#222; border-radius:8px; margin-bottom:16px;">
  <div class="flex justify-between py-1 px-3" style="display:flex; justify-content:space-between; align-items:center; padding:8px 16px;">
    <div class="terminal-controls">
      <span>â—</span>
      <span>â—</span>
      <span>â—</span>
    </div>
    <div class="terminal-copy js-activate-clipboard">
      <span class="fa fa-clipboard text-white" title="Copy Code" style="cursor:pointer; font-size:18px;" onclick="navigator.clipboard.writeText('use App\\Controller\\BlogController;\nuse Symfony\\Component\\Routing\\Loader\\Configurator\\RoutingConfigurator;\n\nreturn static function (RoutingConfigurator $routes): void {\n    $routes->add(\'blog_list\', \'/blog/{page}\')\n        ->controller([BlogController::class, \'list\'])\n        ->requirements([\'page\' => \'\\d+\'])\n    ;\n\n    $routes->add(\'blog_show\', \'/blog/{slug}\')\n        ->controller([BlogController::class, \'show\'])\n    ;\n    // ...\n};')">ğŸ“‹</span>
      <span class="js-copy-button-text"></span>
    </div>
  </div>
  <div class="js-copy-clipboard-target">
    <pre class="notranslate" style="color:#fff; margin:0; padding:16px;"><code class="language-php">use App\Controller\BlogController;
use Symfony\Component\Routing\Loader\Configurator\RoutingConfigurator;

return static function (RoutingConfigurator $routes): void {
$routes->add('blog_list', '/blog/{page}')
->controller([BlogController::class, 'list'])
->requirements(['page' => '\d+'])
;

    $routes->add('blog_show', '/blog/{slug}')
        ->controller([BlogController::class, 'show'])
    ;
    // ...

};</code></pre>

  </div>
</div>

requirements seÃ§eneÄŸi, route parametrelerinin eÅŸleÅŸmesi iÃ§in gereken PHP regex'lerini tanÄ±mlar. Bu Ã¶rnekte \d+ herhangi uzunlukta bir rakamÄ± eÅŸleÅŸtirir. ArtÄ±k:

<table>
    <thead>
        <tr>
            <th>URL</th>
            <th>Route</th>
            <th>Parametre</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>/blog/2</td>
            <td>blog_list</td>
            <td>$page = 2</td>
        </tr>
        <tr>
            <td>/blog/ilk-yazi</td>
            <td>blog_show</td>
            <td>$slug = ilk-yazi</td>
        </tr>
    </tbody>
</table>

<div style="background:#19c37d; border-radius:8px; padding:12px; margin-bottom:16px; display:flex; align-items:center;">
  <span style="font-size:24px; margin-right:12px;">ğŸ’¡</span>
  <span style="color:#222; font-size:16px;">Requirement enum'u, rakamlar, tarihler ve UUID'ler gibi sÄ±k kullanÄ±lan regular-expression sabitlerini iÃ§erir ve route parametre gereksinimlerinde kullanÄ±labilir.</span>
</div>

<div class="terminal-wrapper bg-black-4 rounded-t" style="background:#222; border-radius:8px; margin-bottom:16px;">
  <div class="flex justify-between py-1 px-3" style="display:flex; justify-content:space-between; align-items:center; padding:8px 16px;">
    <div class="terminal-controls">
      <span>â—</span>
      <span>â—</span>
      <span>â—</span>
    </div>
    <div class="terminal-copy js-activate-clipboard">
      <span class="fa fa-clipboard text-white" title="Copy Code" style="cursor:pointer; font-size:18px;" onclick="navigator.clipboard.writeText('// config/routes.php\nuse App\\Controller\\BlogController;\nuse Symfony\\Component\\Routing\\Loader\\Configurator\\RoutingConfigurator;\nuse Symfony\\Component\\Routing\\Requirement\\Requirement;\n\nreturn static function (RoutingConfigurator $routes): void {\n    $routes->add(\'blog_list\', \'/blog/{page}\')\n        ->controller([BlogController::class, \'list\'])\n        ->requirements([\'page\' => Requirement::DIGITS])\n    ;\n    // ...\n};')">ğŸ“‹</span>
      <span class="js-copy-button-text"></span>
    </div>
  </div>
  <div class="js-copy-clipboard-target">
    <pre class="notranslate" style="color:#fff; margin:0; padding:16px;"><code class="language-php">// config/routes.php
use App\Controller\BlogController;
use Symfony\Component\Routing\Loader\Configurator\RoutingConfigurator;
use Symfony\Component\Routing\Requirement\Requirement;

return static function (RoutingConfigurator $routes): void {
$routes->add('blog_list', '/blog/{page}')
->controller([BlogController::class, 'list'])
->requirements(['page' => Requirement::DIGITS])
;
// ...
};</code></pre>

  </div>
</div>

<div style="background:#19c37d; border-radius:8px; padding:12px; margin-bottom:16px; display:flex; align-items:center;">
  <span style="font-size:24px; margin-right:12px;">ğŸ’¡</span>
  <span style="color:#222; font-size:16px;">Route gereksinimleri (ve route yollarÄ±) yapÄ±landÄ±rma parametreleri iÃ§erebilir. Bu, karmaÅŸÄ±k regular expression'larÄ± bir kez tanÄ±mlayÄ±p birden fazla route'ta tekrar kullanmak iÃ§in faydalÄ±dÄ±r.</span>
</div>

<div style="background:#19c37d; border-radius:8px; padding:12px; margin-bottom:16px; display:flex; align-items:center;">
  <span style="font-size:24px; margin-right:12px;">ğŸ’¡</span>
  <span style="color:#222; font-size:16px;">Parametreler ayrÄ±ca PCRE Unicode Ã¶zelliklerini de destekler. Bunlar, herhangi bir dilde bÃ¼yÃ¼k harf karakterleri iÃ§in \p{Lu}, Yunanca karakterler iÃ§in \p{Greek} gibi generic karakter tiplerini eÅŸleÅŸtiren kaÃ§Ä±ÅŸ dizileridir.</span>
</div>
## Parametre Gereksinimlerini SatÄ±r Ä°Ã§i TanÄ±mlama

Ä°sterseniz, gereksinimleri her parametrede satÄ±r iÃ§i olarak {parametre_adÄ±<gereksinim>} ÅŸeklinde tanÄ±mlayabilirsiniz. Bu Ã¶zellik, yapÄ±landÄ±rmayÄ± daha kÄ±sa hale getirir; ancak gereksinimler karmaÅŸÄ±ksa route okunabilirliÄŸini azaltabilir:

```php
// config/routes.php
use App\Controller\BlogController;
use Symfony\Component\Routing\Loader\Configurator\RoutingConfigurator;

return static function (RoutingConfigurator $routes): void {
    $routes->add('blog_list', '/blog/{page<\d+>}')
        ->controller([BlogController::class, 'list'])
    ;
    // ...
};
```

## Opsiyonel Parametreler

Ã–nceki Ã¶rnekte, blog_list route'unun URL'si /blog/{page} ÅŸeklindedir. KullanÄ±cÄ±lar /blog/1 adresini ziyaret ederse eÅŸleÅŸir; ancak /blog adresini ziyaret ederlerse eÅŸleÅŸmez. Bir route'a parametre eklediÄŸinizde, bu parametrenin bir deÄŸeri olmalÄ±dÄ±r.

KullanÄ±cÄ± /blog adresini ziyaret ettiÄŸinde blog_list route'unun tekrar eÅŸleÅŸmesini istiyorsanÄ±z, {page} parametresi iÃ§in varsayÄ±lan bir deÄŸer ekleyebilirsiniz. Attribute kullanÄ±rken varsayÄ±lan deÄŸerler controller metodunun argÃ¼manlarÄ±nda tanÄ±mlanÄ±r. DiÄŸer yapÄ±landÄ±rma formatlarÄ±nda ise defaults seÃ§eneÄŸi ile tanÄ±mlanÄ±r:

```php
// config/routes.php
use App\Controller\BlogController;
use Symfony\Component\Routing\Loader\Configurator\RoutingConfigurator;

return static function (RoutingConfigurator $routes): void {
    $routes->add('blog_list', '/blog/{page}')
        ->controller([BlogController::class, 'list'])
        ->defaults(['page' => 1])
        ->requirements(['page' => '\d+'])
    ;
};
```

ArtÄ±k kullanÄ±cÄ± /blog adresini ziyaret ettiÄŸinde blog_list route'u eÅŸleÅŸir ve $page parametresi varsayÄ±lan olarak 1 deÄŸerini alÄ±r.


<div style="background:#19c37d; border-radius:8px; padding:12px; margin-bottom:16px; display:flex; align-items:center;">
    <span style="font-size:24px; margin-right:12px;">ğŸ’¡</span>
    <span style="color:#222; font-size:16px;">VarsayÄ±lan deÄŸer, gereksinim ile eÅŸleÅŸmek zorunda deÄŸildir.</span>
</div>

<div style="background:#f7b955; border-radius:8px; padding:12px; margin-bottom:16px; display:flex; align-items:center;">
    <span style="font-size:24px; margin-right:12px;">âš ï¸</span>
    <span style="color:#222; font-size:16px;">
        Birden fazla opsiyonel parametre tanÄ±mlayabilirsiniz (Ã¶r. <code>/blog/{slug}/{page}</code>), ancak opsiyonel bir parametreden sonra gelen tÃ¼m parametreler de opsiyonel olmalÄ±dÄ±r. Ã–rneÄŸin, <code>/{page}/blog</code> geÃ§erli bir yoldur ve <code>page</code> her zaman gereklidir (<code>/blog</code> bu route ile eÅŸleÅŸmez).
    </span>
</div>



Bir parametreye varsayÄ±lan deÄŸer eklemek iÃ§in, parametre adÄ±ndan sonra `?default_value` ekleyebilirsiniz. Ã–rneÄŸin, `/blog/{page?1}` ile `page` parametresinin varsayÄ±lan deÄŸeri `1` olur. Gereksinim ve varsayÄ±lan deÄŸeri birleÅŸtirmek iÃ§in `{page<\d+>?1}` ÅŸeklinde yazabilirsiniz:

```php
// config/routes.php
use App\Controller\BlogController;
use Symfony\Component\Routing\Loader\Configurator\RoutingConfigurator;

return static function (RoutingConfigurator $routes): void {
    $routes->add('blog_list', '/blog/{page<\d+>?1}')
        ->controller([BlogController::class, 'list'])
    ;
};
```
<div style="background:#19c37d; border-radius:8px; padding:12px; margin-bottom:16px; display:flex; align-items:center;">
    <span style="font-size:24px; margin-right:12px;">ğŸ’¡</span>
    <span style="color:#222; font-size:16px;">
        Bir parametreye <code>null</code> varsayÄ±lan deÄŸer vermek iÃ§in, <code>?</code> karakterinden sonra bir deÄŸer belirtmeyin (Ã¶rneÄŸin, <code>/blog/{page?}</code>). Bu durumda, ilgili controller argÃ¼manÄ±nÄ±n tipini nullable olarak tanÄ±mlamalÄ±sÄ±nÄ±z (Ã¶rneÄŸin, <code>?int $page</code>).
    </span>
</div>

##  Route Ã–nceliÄŸi (Priority Parameter)

Symfony, route'larÄ± tanÄ±mlandÄ±klarÄ± sÄ±rayla deÄŸerlendirir. Bir route'un yolu birden fazla pattern ile eÅŸleÅŸiyorsa, diÄŸer route'larÄ±n eÅŸleÅŸmesini engelleyebilir. YAML ve XML dosyalarÄ±nda route tanÄ±mlarÄ±nÄ± yukarÄ± veya aÅŸaÄŸÄ± taÅŸÄ±yarak Ã¶nceliÄŸi kontrol edebilirsiniz. PHP attribute ile tanÄ±mlanan route'larda ise, Ã¶nceliÄŸi kontrol etmek iÃ§in `priority` parametresini kullanabilirsiniz:

```php
// src/Controller/BlogController.php
namespace App\Controller;

use Symfony\Bundle\FrameworkBundle\Controller\AbstractController;
use Symfony\Component\HttpFoundation\Response;
use Symfony\Component\Routing\Attribute\Route;

class BlogController extends AbstractController
{
    /**
     * Bu route daha genel bir pattern ile tanÄ±mlanmÄ±ÅŸtÄ±r ve Ã¶nce gelir.
     */
    #[Route('/blog/{slug}', name: 'blog_show')]
    public function show(string $slug): Response
    {
        // ...
    }

    /**
     * Bu route, varsayÄ±lan Ã¶ncelik ile eÅŸleÅŸemezdi; daha yÃ¼ksek bir priority ile tanÄ±mlanmalÄ±dÄ±r.
     */
    #[Route('/blog/list', name: 'blog_list', priority: 2)]
    public function list(): Response
    {
        // ...
    }
}
```

`priority` deÄŸeri ne kadar yÃ¼ksek olursa, route o kadar Ã¶nce deÄŸerlendirilir. VarsayÄ±lan deÄŸer `0`'dÄ±r. Bu sayede, daha spesifik route'larÄ±n genel pattern'lerden Ã¶nce eÅŸleÅŸmesini saÄŸlayabilirsiniz.

Priority parametresi bir tamsayÄ± deÄŸer bekler. Daha yÃ¼ksek priority deÄŸerine sahip route'lar, daha dÃ¼ÅŸÃ¼k olanlardan Ã¶nce deÄŸerlendirilir. EÄŸer priority tanÄ±mlanmazsa, varsayÄ±lan deÄŸer <b style="color:red">0</b>'dÄ±r.
## Parametre DÃ¶nÃ¼ÅŸtÃ¼rme (Parameter Conversion)

BazÄ± durumlarda, bir route parametresinin (Ã¶rneÄŸin, kullanÄ±cÄ± ID'si gibi bir integer) doÄŸrudan controller metodunda bir nesneye dÃ¶nÃ¼ÅŸtÃ¼rÃ¼lmesi gerekebilir. Symfony'de bu Ã¶zelliÄŸe "param converter" denir.

Ã–nceki route yapÄ±landÄ±rmasÄ±nÄ± koruyarak, controller metodunun argÃ¼manlarÄ±nÄ± deÄŸiÅŸtirelim. ArtÄ±k string $slug yerine BlogPost $post parametresi kullanÄ±yoruz:

```php
// src/Controller/BlogController.php
namespace App\Controller;

use App\Entity\BlogPost;
use Symfony\Bundle\FrameworkBundle\Controller\AbstractController;
use Symfony\Component\HttpFoundation\Response;
use Symfony\Component\Routing\Attribute\Route;

class BlogController extends AbstractController
{
    // ...

    #[Route('/blog/{slug:post}', name: 'blog_show')]
    public function show(BlogPost $post): Response
    {
        // $post, route parametresindeki slug ile eÅŸleÅŸen BlogPost nesnesidir

        // ...
    }
}
```

Controller argÃ¼manÄ±nda nesne tipinde bir type-hint (Ã¶rneÄŸin BlogPost) varsa, param converter otomatik olarak ilgili nesneyi veritabanÄ±ndan bulur ve controller'a iletir. EÄŸer nesne bulunamazsa Symfony otomatik olarak 404 dÃ¶ndÃ¼rÃ¼r.

Burada `{slug:post}` sÃ¶zdizimi, route parametresi olan slug'Ä± controller argÃ¼manÄ± olan $post ile eÅŸler ve param converter'Ä±n veritabanÄ±ndan BlogPost nesnesini slug ile bulmasÄ±nÄ± saÄŸlar.

> **Symfony 7.1 ile gelen Ã¶zellik:** Route parametre eÅŸleme ({slug:post}) Symfony 7.1 sÃ¼rÃ¼mÃ¼nde eklenmiÅŸtir.

### Birden Fazla Nesne EÅŸleme

Birden fazla entity'yi route parametrelerinden eÅŸlemek istediÄŸinizde, parametre adlarÄ±nda Ã§akÄ±ÅŸma olmamalÄ±dÄ±r. Ã–rneÄŸin, aÅŸaÄŸÄ±daki tanÄ±m geÃ§ersizdir Ã§Ã¼nkÃ¼ iki kez name parametresi kullanÄ±lmÄ±ÅŸtÄ±r:

```php
#[Route('/search-book/{name:author}/{name:category}')]
```

Bunun yerine, parametre adlarÄ±nÄ± benzersiz yapmalÄ±sÄ±nÄ±z:

```php
#[Route('/search-book/{authorName:author.name}/{categoryName:category.name}')]
```

Bu ÅŸekilde, route parametreleri (authorName ve categoryName) benzersiz olur ve param converter her birini doÄŸru entity ile eÅŸler.

> **Symfony 7.3 ile gelen Ã¶zellik:** Bu geliÅŸmiÅŸ parametre eÅŸleme ({authorName:author.name}) Symfony 7.3 sÃ¼rÃ¼mÃ¼nde eklenmiÅŸtir.

Daha geliÅŸmiÅŸ eÅŸlemeler iÃ§in #[MapEntity] attribute'u kullanÄ±labilir. DetaylÄ± Ã¶zelleÅŸtirme iÃ§in Doctrine param converter dokÃ¼mantasyonuna gÃ¶z atabilirsiniz.

## Backed Enum Parametreleri

PHP'deki backed enum'larÄ± route parametresi olarak kullanabilirsiniz. Symfony, bu parametreleri otomatik olarak scalar deÄŸerlerine dÃ¶nÃ¼ÅŸtÃ¼rÃ¼r:

```php
// src/Controller/OrderController.php
namespace App\Controller;

use App\Enum\OrderStatusEnum;
use Symfony\Bundle\FrameworkBundle\Controller\AbstractController;
use Symfony\Component\HttpFoundation\Response;
use Symfony\Component\Routing\Attribute\Route;

class OrderController extends AbstractController
{
    #[Route('/orders/list/{status}', name: 'list_orders_by_status')]
    public function list(OrderStatusEnum $status = OrderStatusEnum::Paid): Response
    {
        // ...
    }
}
```

## Ã–zel Parametreler

Symfony, route'larda aÅŸaÄŸÄ±daki Ã¶zel parametreleri kullanmanÄ±za izin verir:

- **_controller**: EÅŸleÅŸen route iÃ§in Ã§alÄ±ÅŸacak controller ve aksiyonu belirtir.
- **_format**: Ä°steÄŸin formatÄ±nÄ± belirler (Ã¶r. json formatÄ± Content-Type: application/json olarak ayarlanÄ±r).
- **_fragment**: URL'nin sonundaki # ile baÅŸlayan fragment bilgisini ayarlar.
- **_locale**: Ä°steÄŸin dilini belirler.

Bu parametreleri hem tekil route'larda hem de route importlarÄ±nda kullanabilirsiniz. Symfony, bu Ã¶zel parametreler iÃ§in aynÄ± isimde (baÅŸÄ±ndaki alt Ã§izgi olmadan) kolay tanÄ±mlama metodlarÄ± sunar:

```php
// config/routes.php
namespace Symfony\Component\Routing\Loader\Configurator;

use App\Controller\ArticleController;

return static function (RoutingConfigurator $routes): void {
    $routes->add('article_show', '/articles/{_locale}/search.{_format}')
        ->controller([ArticleController::class, 'search'])
        ->locale('en')
        ->format('html')
        ->requirements([
            '_locale' => 'en|fr',
            '_format' => 'html|xml',
        ])
    ;
};
```

## Ekstra Parametreler

Route'un defaults seÃ§eneÄŸinde, route tanÄ±mÄ±nda yer almayan ekstra parametreler belirtebilirsiniz. Bu parametreler controller'a ekstra argÃ¼man olarak iletilir:

```php
// config/routes.php
use App\Controller\BlogController;
use Symfony\Component\Routing\Loader\Configurator\RoutingConfigurator;

return static function (RoutingConfigurator $routes): void {
    $routes->add('blog_index', '/blog/{page}')
        ->controller([BlogController::class, 'index'])
        ->defaults([
            'page'  => 1,
            'title' => 'Hello world!',
        ])
    ;
};
```

## Route Parametrelerinde Slash Karakteri Kullanmak

Route parametreleri, `/` (slash) karakteri hariÃ§ herhangi bir deÄŸeri iÃ§erebilir; Ã§Ã¼nkÃ¼ `/` karakteri URL'nin farklÄ± bÃ¶lÃ¼mlerini ayÄ±rmak iÃ§in kullanÄ±lÄ±r. Ã–rneÄŸin, `/share/{token}` route'unda token deÄŸeri `/` iÃ§erirse, bu route eÅŸleÅŸmez.

Bunu Ã§Ã¶zmek iÃ§in, parametre gereksinimini daha esnek hale getirebilirsiniz:

```php
// config/routes.php
use App\Controller\DefaultController;
use Symfony\Component\Routing\Loader\Configurator\RoutingConfigurator;

return static function (RoutingConfigurator $routes): void {
    $routes->add('share', '/share/{token}')
        ->controller([DefaultController::class, 'share'])
        ->requirements([
            'token' => '.+',
        ])
    ;
};
```

<div style="background:#f6f8fa; border-radius:8px; padding:16px; margin-bottom:16px;">
    <div style="display:flex; align-items:flex-start; margin-bottom:12px;">
        <span style="font-size:22px; margin-right:12px;">ğŸ“</span>
        <div style="color:red">
            EÄŸer bir route birden fazla parametre iÃ§eriyorsa ve hepsine esnek bir regular expression (Ã¶r. <code>.+</code>) uygularsanÄ±z, beklenmedik sonuÃ§lar ortaya Ã§Ä±kabilir. Ã–rneÄŸin, route tanÄ±mÄ± <code>/share/{path}/{token}</code> ÅŸeklindeyse ve hem <code>path</code> hem de <code>token</code> parametreleri <code>/</code> karakterini kabul ederse, <code>token</code> yalnÄ±zca son bÃ¶lÃ¼mÃ¼ alÄ±r, kalan kÄ±sÄ±m ise <code>path</code> tarafÄ±ndan eÅŸleÅŸir.
        </div>
    </div>
    <div style="display:flex; align-items:flex-start;">
        <span style="font-size:22px; margin-right:12px;">ğŸ“</span>
        <div style="color:red">
            AyrÄ±ca, route Ã¶zel <code>{_format}</code> parametresini iÃ§eriyorsa, parametreler iÃ§in <code>.+</code> gereksinimini kullanmamalÄ±sÄ±nÄ±z. Ã–rneÄŸin, <code>/share/{token}.{_format}</code> pattern'inde <code>{token}</code> herhangi bir karakteri kabul ederse, <code>/share/foo/bar.json</code> URL'sinde <code>token = foo/bar.json</code> olur ve <code>_format</code> parametresi boÅŸ kalÄ±r. Bunu Ã¶nlemek iÃ§in, <code>.+</code> yerine <code>[^.]+</code> kullanarak sadece nokta hariÃ§ tÃ¼m karakterleri kabul edebilirsiniz.
        </div>
    </div>
</div>

## Route Alias (Route Takma AdÄ±)

YAML, XML ve PHP yapÄ±landÄ±rma formatlarÄ±, sahip olmadÄ±ÄŸÄ±nÄ±z bir route iÃ§in alias (takma ad) tanÄ±mlamanÄ±n tek yoludur. PHP attribute ile tanÄ±mlanan route'larda doÄŸrudan alias ekleyemezsiniz.

Route alias, bir route'a birden fazla isim vermenizi saÄŸlar ve Ã¶zellikle route adÄ±nÄ± deÄŸiÅŸtirdiÄŸinizde geriye dÃ¶nÃ¼k uyumluluk iÃ§in kullanÄ±ÅŸlÄ±dÄ±r. Ã–rneÄŸin, product_show adlÄ± bir route'unuz varsa ve aynÄ± davranÄ±ÅŸÄ± product_details adÄ±yla da sunmak istiyorsanÄ±z, route'u tekrar tanÄ±mlamak yerine bir alias ekleyebilirsiniz:

```php
// config/routes.php
use Symfony\Component\Routing\Loader\Configurator\RoutingConfigurator;

return static function (RoutingConfigurator $routes): void {
    $routes->add('product_show', '/product/{id}')
        ->controller('App\Controller\ProductController::show');
    // Ä°kinci argÃ¼man, yukarÄ±da tanÄ±mlanan route adÄ±nÄ± belirtir
    $routes->alias('product_details', 'product_show');
};
```

Bu Ã¶rnekte, hem product_show hem de product_details route adlarÄ± kullanÄ±labilir ve aynÄ± controller aksiyonu Ã§alÄ±ÅŸÄ±r.

> **Symfony 7.3 ile gelen Ã¶zellik:** PHP attribute ile tanÄ±mlanan route'larda alias desteÄŸi Symfony 7.3 sÃ¼rÃ¼mÃ¼nde eklenmiÅŸtir.

Alias ve orijinal route aynÄ± dosyada veya farklÄ± dosya/formatlarda tanÄ±mlanabilir. Alias tanÄ±mlayarak, URL Ã¼retiminde kendi route adÄ±nÄ±zÄ± kullanabilir ve Ã¼Ã§Ã¼ncÃ¼ parti bundle tarafÄ±ndan tanÄ±mlanan bir route'u hedefleyebilirsiniz.


<div style="background:white; border-radius:8px; padding:12px; margin-bottom:16px; display:flex; align-items:center;">
    <span style="font-size:24px; margin-right:12px;">ğŸ“</span>
    <span style="color:#222; font-size:16px;">
        YAML, XML ve PHP yapÄ±landÄ±rma formatlarÄ±, sahip olmadÄ±ÄŸÄ±nÄ±z bir route iÃ§in alias (takma ad) tanÄ±mlamanÄ±n tek yoludur. PHP attribute ile tanÄ±mlanan route'larda doÄŸrudan alias ekleyemezsiniz.<br><br>
        Bu sayede, Ã¶rneÄŸin URL Ã¼retiminde kendi route adÄ±nÄ±zÄ± kullanabilir ve Ã¼Ã§Ã¼ncÃ¼ parti bir bundle tarafÄ±ndan tanÄ±mlanan route'u hedefleyebilirsiniz. Alias ve orijinal route aynÄ± dosyada veya farklÄ± dosya/formatlarda tanÄ±mlanabilir.
    </span>
</div>


## Route Alias'larÄ±nÄ± KullanÄ±mdan KaldÄ±rmak (Deprecate Etmek)

Route alias'larÄ±, yeniden adlandÄ±rÄ±lan route'lar iÃ§in geriye dÃ¶nÃ¼k uyumluluk saÄŸlar. Bir route'u kullanÄ±mdan kaldÄ±rmak (deprecate etmek) iÃ§in alias'Ä± "tersine" Ã§evirmeniz gerekir: Eski route adÄ± (Ã¶rneÄŸin `product_show`) artÄ±k bir alias olur ve yeni route'a (`product_details`) yÃ¶nlendirilir.

AÅŸaÄŸÄ±daki Ã¶rnekte, `product_details` ana route olarak tanÄ±mlanÄ±r ve `product_show` alias'Ä± ona yÃ¶nlendirilir. Alias'Ä± kullanÄ±mdan kaldÄ±rmak iÃ§in `deprecate()` fonksiyonu eklenir:

```php
// config/routes.php
use Symfony\Component\Routing\Loader\Configurator\RoutingConfigurator;

return static function (RoutingConfigurator $routes): void {
    $routes->add('product_details', '/product/{id}')
        ->controller('App\Controller\ProductController::show');

    // Eski route adÄ± artÄ±k alias olarak tanÄ±mlanÄ±yor ve deprecate ediliyor
    $routes->alias('product_show', 'product_details')
        // VarsayÄ±lan deprecation mesajÄ±
        ->deprecate('acme/package', '1.2', '')
        // veya Ã¶zel bir mesaj ile
        ->deprecate(
            'acme/package',
            '1.2',
            'The "%alias_id%" route alias is deprecated. Please use "product_details" instead.'
        )
    ;
};
```

Bu yapÄ±landÄ±rmada, her `product_show` alias kullanÄ±ldÄ±ÄŸÄ±nda bir deprecation uyarÄ±sÄ± tetiklenir. Mesajda `%alias_id%` placeholder'Ä± otomatik olarak alias adÄ± ile deÄŸiÅŸtirilir. Kendi mesajÄ±nÄ±zÄ± tanÄ±mlarken en az bir `%alias_id%` kullanmalÄ±sÄ±nÄ±z.

Bu yÃ¶ntemle, eski route adÄ±nÄ± kullanan uygulamalar uyarÄ±lÄ±r ve yeni route'a geÃ§iÅŸ teÅŸvik edilir.

## Route GruplarÄ± ve Prefix KullanÄ±mÄ±

Bir grup route'un ortak ayarlarÄ± paylaÅŸmasÄ± (Ã¶rneÄŸin, blog ile ilgili tÃ¼m route'larÄ±n `/blog` ile baÅŸlamasÄ±) yaygÄ±ndÄ±r. Symfony, route yapÄ±landÄ±rmasÄ±nÄ± paylaÅŸmak iÃ§in bu amaÃ§la bir Ã¶zellik sunar.

Attribute ile route tanÄ±mlarken, ortak yapÄ±landÄ±rmayÄ± controller sÄ±nÄ±fÄ±nÄ±n #[Route] attribute'una ekleyebilirsiniz. DiÄŸer routing formatlarÄ±nda ise, route'larÄ± import ederken ortak ayarlarÄ± options ile tanÄ±mlayabilirsiniz.

```php
// config/routes/attributes.php
use Symfony\Component\Routing\Loader\Configurator\RoutingConfigurator;

return static function (RoutingConfigurator $routes): void {
    $routes->import(
            '../../src/Controller/',
            'attribute',
            false,
            // DÃ¶rdÃ¼ncÃ¼ argÃ¼man ile bazÄ± dosya veya alt dizinleri hariÃ§ tutabilirsiniz
            // (deÄŸer bir string veya PHP glob pattern dizisi olmalÄ±)
            '../../src/Controller/{Debug*Controller.php}'
        )
        // TÃ¼m import edilen route URL'lerinin baÅŸÄ±na eklenir
        ->prefix('/blog')

        // BoÅŸ URL'li bir route "/blog/" olur
        // Ä°kinci argÃ¼man olarak FALSE verirseniz "/blog" olur
        // ->prefix('/blog', false)

        // TÃ¼m import edilen route adlarÄ±nÄ±n baÅŸÄ±na eklenir
        ->namePrefix('blog_')

        // TÃ¼m import edilen route'lara ek gereksinimler eklenir
        ->requirements(['_locale' => 'en|es|fr'])
    ;
};
```

<div style="background:#f7b955; border-radius:8px; padding:12px; margin-bottom:16px; display:flex; align-items:center;">
    <span style="font-size:24px; margin-right:12px;">âš ï¸</span>
    <span style="color:#222; font-size:16px;">
        <code>exclude</code> seÃ§eneÄŸi yalnÄ±zca <code>resource</code> deÄŸeri bir glob string ise Ã§alÄ±ÅŸÄ±r. EÄŸer normal bir string kullanÄ±rsanÄ±z (Ã¶r. <code>'../src/Controller'</code>), <code>exclude</code> deÄŸeri gÃ¶z ardÄ± edilir.
    </span>
</div>

Bu Ã¶rnekte, index() aksiyonunun route'u `blog_index` adÄ±nÄ± ve `/blog/{_locale}` URL'sini alÄ±r. show() aksiyonunun route'u ise `blog_show` adÄ±nÄ± ve `/blog/{_locale}/posts/{slug}` URL'sini alÄ±r. Her iki route da `_locale` parametresinin belirtilen regular expression ile eÅŸleÅŸmesini doÄŸrular.

EÄŸer prefixlenen route'lar boÅŸ bir path tanÄ±mlarsa, Symfony otomatik olarak sonuna bir slash ekler. Ã–rneÄŸin, boÅŸ bir path ve `/blog` prefix ile `/blog/` URL'si oluÅŸur. Bu davranÄ±ÅŸÄ± engellemek iÃ§in `trailing_slash_on_root` seÃ§eneÄŸini false yapabilirsiniz (bu seÃ§enek PHP attribute ile kullanÄ±lamaz):

```php
// config/routes/attributes.php
use Symfony\Component\Routing\Loader\Configurator\RoutingConfigurator;

return static function (RoutingConfigurator $routes): void {
    $routes->import('../../src/Controller/', 'attribute')
        // Ä°kinci argÃ¼man $trailingSlashOnRoot seÃ§eneÄŸidir
        ->prefix('/blog', false)

        // ...
    ;
};
```

> Symfony, farklÄ± kaynaklardan route import edebilir ve kendi route loader'Ä±nÄ±zÄ± da oluÅŸturabilirsiniz.

## Route AdÄ± ve Parametrelerini Alma

Symfony'de, bir isteÄŸin eÅŸleÅŸtiÄŸi route'un adÄ±nÄ± ve parametrelerini almak iÃ§in Request nesnesinin attributes Ã¶zelliÄŸini kullanabilirsiniz. Controller iÃ§inde bu bilgilere aÅŸaÄŸÄ±daki ÅŸekilde eriÅŸebilirsiniz:

```php
// src/Controller/BlogController.php
namespace App\Controller;

use Symfony\Bundle\FrameworkBundle\Controller\AbstractController;
use Symfony\Component\HttpFoundation\Request;
use Symfony\Component\HttpFoundation\Response;
use Symfony\Component\Routing\Attribute\Route;

class BlogController extends AbstractController
{
    #[Route('/blog', name: 'blog_list')]
    public function list(Request $request): Response
    {
        $routeName = $request->attributes->get('_route');
        $routeParameters = $request->attributes->get('_route_params');

        // TÃ¼m attribute'larÄ± almak iÃ§in:
        $allAttributes = $request->attributes->all();

        // ...
    }
}
```

Servislerde bu bilgilere eriÅŸmek iÃ§in `RequestStack` servisini enjekte edebilirsiniz. Twig ÅŸablonlarÄ±nda ise `app.current_route` ve `app.current_route_parameters` global deÄŸiÅŸkenlerini kullanabilirsiniz.

---

## Ã–zel Route'lar

Symfony, bazÄ± Ã¶zel controller'lar ile doÄŸrudan route yapÄ±landÄ±rmasÄ±ndan ÅŸablon render etme veya baÅŸka bir route/URL'ye yÃ¶nlendirme iÅŸlemlerini kolaylaÅŸtÄ±rÄ±r.

### Route'tan Åablon Render Etmek

Bir route'tan doÄŸrudan ÅŸablon render etmek iÃ§in Symfony'nin template controller Ã¶zelliÄŸini kullanabilirsiniz. Detaylar iÃ§in Symfony template dokÃ¼mantasyonuna bakÄ±nÄ±z.

### Route'tan URL veya Route'a YÃ¶nlendirme

BaÅŸka bir route veya URL'ye yÃ¶nlendirmek iÃ§in `RedirectController` kullanÄ±lÄ±r:

```php
// config/routes.php
use App\Controller\DefaultController;
use Symfony\Bundle\FrameworkBundle\Controller\RedirectController;
use Symfony\Component\Routing\Loader\Configurator\RoutingConfigurator;

return static function (RoutingConfigurator $routes): void {
    $routes->add('doc_shortcut', '/doc')
        ->controller(RedirectController::class)
         ->defaults([
            'route' => 'doc_page',
            // isteÄŸe baÄŸlÄ± olarak, route'a iletilecek bazÄ± argÃ¼manlar tanÄ±mlayabilirsiniz
            'page' => 'index',
            'version' => 'current',
            // yÃ¶nlendirmeler varsayÄ±lan olarak geÃ§icidir (kod 302), ancak kalÄ±cÄ± yapabilirsiniz (kod 301)
            'permanent' => true,
            // yÃ¶nlendirme sÄ±rasÄ±nda orijinal query string parametrelerini korumak iÃ§in bunu ekleyin
            'keepQueryParams' => true,
            // yÃ¶nlendirme sÄ±rasÄ±nda HTTP metodunu korumak iÃ§in bunu ekleyin. YÃ¶nlendirme durumu deÄŸiÅŸir:
            // * geÃ§ici yÃ¶nlendirmelerde, 302 yerine 307 durum kodu kullanÄ±lÄ±r
            // * kalÄ±cÄ± yÃ¶nlendirmelerde, 301 yerine 308 durum kodu kullanÄ±lÄ±r
            'keepRequestMethod' => true,
        ])
    ;

    $routes->add('legacy_doc', '/legacy/doc')
        ->controller(RedirectController::class)
         ->defaults([
            // bu deÄŸer mutlak bir yol veya mutlak bir URL olabilir
            'path' => 'https://legacy.example.com/doc',
            // yÃ¶nlendirmeler varsayÄ±lan olarak geÃ§icidir (kod 302), ancak kalÄ±cÄ± yapabilirsiniz (kod 301)
            'permanent' => true,
        ])
    ;
};
```



<div style="background:#19c37d; border-radius:8px; padding:12px; margin-bottom:16px; display:flex; align-items:center;">
    <span style="font-size:24px; margin-right:12px;">ğŸ’¡</span>
    <span style="color:#222; font-size:16px;">
        Symfony ayrÄ±ca <a href="https://symfony.com/doc/current/controller.html#redirecting" target="_blank" style="color:#1677ff; text-decoration:underline;">controller iÃ§inde yÃ¶nlendirme</a> iÅŸlemleri iÃ§in bazÄ± yardÄ±mcÄ±lar saÄŸlar.
    </span>
</div>


## Sonunda Slash Olan URL'leri YÃ¶nlendirmek

Tarihsel olarak, URL'lerde dizinler iÃ§in sonunda slash (`/`) kullanÄ±lÄ±r (Ã¶r. `https://example.com/foo/`), dosyalar iÃ§in ise kullanÄ±lmaz (`https://example.com/foo`). Modern uygulamalarda ise genellikle her iki URL aynÄ± iÃ§erik olarak kabul edilir ve biri diÄŸerine yÃ¶nlendirilir.

Symfony, GET ve HEAD isteklerinde sonunda slash olan ve olmayan URL'ler arasÄ±nda otomatik olarak 301 yÃ¶nlendirme yapar:

| Route URL | Ä°stek /foo | Ä°stek /foo/ |
|-----------|------------|-------------|
| /foo      | EÅŸleÅŸir (200) | /foo adresine 301 yÃ¶nlendirme |
| /foo/     | /foo/ adresine 301 yÃ¶nlendirme | EÅŸleÅŸir (200) |

## Alt Alan AdÄ± (Sub-Domain) ile Routing

Route'lar, gelen isteÄŸin host (alan adÄ±) bilgisini kontrol etmek iÃ§in `host` seÃ§eneÄŸi ile yapÄ±landÄ±rÄ±labilir. BÃ¶ylece aynÄ± path iÃ§in farklÄ± alan adlarÄ±na Ã¶zel controller tanÄ±mlayabilirsiniz:

```php
// config/routes.php
use App\Controller\MainController;
use Symfony\Component\Routing\Loader\Configurator\RoutingConfigurator;

return static function (RoutingConfigurator $routes): void {
    $routes->add('mobile_homepage', '/')
        ->controller([MainController::class, 'mobileHomepage'])
        ->host('m.example.com')
    ;
    $routes->add('homepage', '/')
        ->controller([MainController::class, 'homepage'])
    ;
};
```
YukarÄ±daki Ã¶rnekte, subdomain parametresi iÃ§in varsayÄ±lan bir deÄŸer tanÄ±mlanmÄ±ÅŸtÄ±r. BÃ¶ylece, bu route'larÄ± kullanarak URL Ã¼retirken her seferinde subdomain deÄŸeri belirtmek zorunda kalmazsÄ±nÄ±z; varsayÄ±lan olarak 'm' deÄŸeri kullanÄ±lÄ±r.

<div style="background:#19c37d; border-radius:8px; padding:12px; margin-bottom:16px; display:flex; align-items:center;">
    <span style="font-size:24px; margin-right:12px;">ğŸ’¡</span>
    <span style="color:#222; font-size:16px;">
        Route'larÄ± import ederken host seÃ§eneÄŸini ayarlayarak, tÃ¼m import edilen route'larÄ±n belirli bir alan adÄ± (host) ile eÅŸleÅŸmesini saÄŸlayabilirsiniz.
    </span>
</div>

```php


/* Alt alan adÄ± (sub-domain) ile routing kullanÄ±rken, fonksiyonel testlerde veya otomatik testlerde route'larÄ±n doÄŸru eÅŸleÅŸmesi iÃ§in HTTP_HOST baÅŸlÄ±ÄŸÄ±nÄ± ayarlamanÄ±z gerekir; aksi halde route'lar eÅŸleÅŸmez: */
$crawler = $client->request(
    'GET',
    '/',
    [],
    [],
    ['HTTP_HOST' => 'm.example.com']
    // veya deÄŸeri bir yapÄ±landÄ±rma parametresinden almak iÃ§in:
    // ['HTTP_HOST' => 'm.'.$client->getContainer()->getParameter('domain')]
);


```

<div style="background:#19c37d; border-radius:8px; padding:12px; margin-bottom:16px; display:flex; align-items:center;">
    <span style="font-size:24px; margin-right:12px;">ğŸ’¡</span>
    <span style="color:#222; font-size:16px;">
    Host parametresinde satÄ±r iÃ§i varsayÄ±lan deÄŸer ve gereksinim tanÄ±mlayabilirsiniz: `{subdomain<m|mobile>?m}.example.com` ÅŸeklinde yazdÄ±ÄŸÄ±nÄ±zda, `subdomain` parametresi sadece `m` veya `mobile` deÄŸerlerini kabul eder ve varsayÄ±lan olarak `m` kullanÄ±lÄ±r.
    </span>
</div>


## YerelleÅŸtirilmiÅŸ Route'lar (i18n)

UygulamanÄ±z birden fazla dile sahipse, her locale iÃ§in farklÄ± bir URL tanÄ±mlayabilirsiniz:

```php
// config/routes.php
use App\Controller\CompanyController;
use Symfony\Component\Routing\Loader\Configurator\RoutingConfigurator;

return static function (RoutingConfigurator $routes): void {
    $routes->add('about_us', [
        'en' => '/about-us',
        'nl' => '/over-ons',
    ])
        ->controller([CompanyController::class, 'about'])
    ;
};
```

<div style="display:flex; align-items:center; background:#f6f8fa; border-radius:8px; padding:12px; margin-bottom:16px;">
    <span style="font-size:22px; margin-right:12px;">ğŸ“</span>
    <span style="color:#222; font-size:16px;">
        PHP attribute ile yerelleÅŸtirilmiÅŸ route tanÄ±mlarken, <code>path</code> adlandÄ±rÄ±lmÄ±ÅŸ parametresini kullanarak path dizisini belirtmelisiniz.
    </span>
</div>

YerelleÅŸtirilmiÅŸ bir route eÅŸleÅŸtiÄŸinde, Symfony isteÄŸin tamamÄ±nda aynÄ± locale bilgisini otomatik olarak kullanÄ±r.
<div style="background:#19c37d; border-radius:8px; padding:12px; margin-bottom:16px; display:flex; align-items:center;">
    <span style="font-size:24px; margin-right:12px;">ğŸ’¡</span>
    <span style="color:#222; font-size:16px;">
        Uygulama tam "dil + Ã¼lke" yerelleri (Ã¶rn. <code>fr_FR</code>, <code>fr_BE</code>) kullanÄ±yorsa ve ilgili yerellerdeki URL'ler aynÄ±ysa, route'larda yalnÄ±zca dil kÄ±smÄ± (Ã¶rn. <code>fr</code>) kullanÄ±labilir. BÃ¶ylece aynÄ± URL'lerin tekrar edilmesi Ã¶nlenir.
    </span>
</div>
UluslararasÄ±laÅŸtÄ±rÄ±lmÄ±ÅŸ (i18n) uygulamalarda yaygÄ±n bir gereksinim, tÃ¼m route'larÄ±n baÅŸÄ±na locale (dil) prefix'i eklemektir. Bunu, her locale iÃ§in farklÄ± bir prefix tanÄ±mlayarak (varsayÄ±lan locale iÃ§in boÅŸ prefix ayarlayarak) gerÃ§ekleÅŸtirebilirsiniz:

```php
// config/routes/attributes.php
use Symfony\Component\Routing\Loader\Configurator\RoutingConfigurator;

return static function (RoutingConfigurator $routes): void {
    $routes->import('../../src/Controller/', 'attribute')
        ->prefix([
            // Ä°ngilizce (varsayÄ±lan locale) iÃ§in prefix eklenmez
            'en' => '',
            'nl' => '/nl',
        ])
    ;
};
```

<div style="background:#f6f8fa; border-radius:8px; padding:16px; margin-bottom:16px;">
    <div style="display:flex; align-items:flex-start;">
        <span style="font-size:22px; margin-right:12px;">ğŸ“</span>
        <div style="color:red">
            EÄŸer iÃ§e aktarÄ±lan bir route kendi tanÄ±mÄ±nda Ã¶zel <code>_locale</code> parametresini iÃ§eriyorsa, Symfony sadece o locale iÃ§in import eder ve diÄŸer yapÄ±landÄ±rÄ±lmÄ±ÅŸ locale prefix'leri iÃ§in import etmez.
            <br><br>
            Ã–rneÄŸin, bir route tanÄ±mÄ±nda <code>locale: 'en'</code> varsa ve <code>en</code> (prefix: boÅŸ) ile <code>nl</code> (prefix: <code>/nl</code>) locale'leriyle import ediliyorsa, bu route sadece <code>en</code> locale'inde kullanÄ±labilir olur, <code>nl</code> locale'inde olmaz.
        </div>
    </div>
</div>

### Locale'a GÃ¶re FarklÄ± Domain Kullanmak

SÄ±k karÅŸÄ±laÅŸÄ±lan bir gereksinim, uygulamanÄ±n farklÄ± dillerde farklÄ± alan adlarÄ±nda (domain) yayÄ±nlanmasÄ±dÄ±r. Her locale iÃ§in farklÄ± bir host tanÄ±mlayarak bunu saÄŸlayabilirsiniz:

```php
// config/routes/attributes.php
use Symfony\Component\Routing\Loader\Configurator\RoutingConfigurator;

return static function (RoutingConfigurator $routes): void {
    $routes->import('../../src/Controller/', 'attribute')
        ->host([
            'en' => 'www.example.com',
            'nl' => 'www.example.nl',
        ])
    ;
};
```

Bu yapÄ±landÄ±rma ile, Ä°ngilizce locale iÃ§in `www.example.com`, Hollandaca locale iÃ§in ise `www.example.nl` alan adÄ± kullanÄ±lÄ±r.

---

## Stateless Route'lar

BazÄ± durumlarda, HTTP yanÄ±tÄ±nÄ±n Ã¶nbelleÄŸe alÄ±nabilmesi iÃ§in oturum (session) kullanÄ±lmamasÄ± gerekir. Symfony'de bir route'u "stateless" olarak iÅŸaretleyerek, eÅŸleÅŸen istekte oturum baÅŸlatÄ±lmasÄ±nÄ± engelleyebilirsiniz:

```php
// config/routes.php
use App\Controller\MainController;
use Symfony\Component\Routing\Loader\Configurator\RoutingConfigurator;

return static function (RoutingConfigurator $routes): void {
    $routes->add('homepage', '/')
        ->controller([MainController::class, 'homepage'])
        ->stateless()
    ;
};
```

EÄŸer oturum kullanÄ±lÄ±rsa, uygulama `kernel.debug` parametresine gÃ¶re davranÄ±r:

- `enabled`: `UnexpectedSessionUsageException` hatasÄ± fÄ±rlatÄ±lÄ±r.
- `disabled`: UyarÄ± loglanÄ±r.

Bu sayede, beklenmeyen oturum kullanÄ±mlarÄ±nÄ± tespit edebilir ve Ã¶nbellek davranÄ±ÅŸÄ±nÄ± iyileÅŸtirebilirsiniz.

Daha fazla bilgi iÃ§in [HTTP Cache](https://symfony.com/doc/current/http_cache.html) dokÃ¼mantasyonuna gÃ¶z atabilirsiniz.

## URL OluÅŸturma (Generating URLs)

Routing sistemi Ã§ift yÃ¶nlÃ¼ Ã§alÄ±ÅŸÄ±r:

- URL'leri controller'lara eÅŸler (Ã¶nceki bÃ¶lÃ¼mlerde aÃ§Ä±klandÄ±ÄŸÄ± gibi)
- Bir route iÃ§in URL Ã¼retir

Route'lardan URL Ã¼retmek, HTML ÅŸablonlarÄ±nÄ±zda `<a href="...">` deÄŸerlerini elle yazmanÄ±za gerek bÄ±rakmaz. AyrÄ±ca, bir route'un URL'si deÄŸiÅŸirse, sadece route yapÄ±landÄ±rmasÄ±nÄ± gÃ¼ncellemeniz yeterlidir; tÃ¼m linkler otomatik olarak gÃ¼ncellenir.

Bir URL Ã¼retmek iÃ§in, route'un adÄ±nÄ± (Ã¶r. `blog_show`) ve route tarafÄ±ndan tanÄ±mlanan parametrelerin deÄŸerlerini (Ã¶r. `slug = my-blog-post`) belirtmeniz gerekir.

Bu nedenle, her route'un uygulamada benzersiz bir dahili adÄ± olmalÄ±dÄ±r. EÄŸer `name` seÃ§eneÄŸi ile route adÄ± aÃ§Ä±kÃ§a belirtilmezse, Symfony otomatik olarak controller ve aksiyona gÃ¶re bir ad oluÅŸturur.

Symfony, hedef sÄ±nÄ±fta `__invoke()` metodu varsa ve sadece bir route eklenmiÅŸse FQCN'e gÃ¶re route alias'Ä± tanÄ±mlar. AyrÄ±ca, her metot yalnÄ±zca bir route tanÄ±mlÄ±yorsa otomatik olarak bir alias ekler. Ã–rneÄŸin:

```php
// src/Controller/MainController.php
namespace App\Controller;

use Symfony\Bundle\FrameworkBundle\Controller\AbstractController;
use Symfony\Component\Routing\Attribute\Route;

final class MainController extends AbstractController
{
    #[Route('/', name: 'homepage')]
    public function homepage(): Response
    {
        // ...
    }
}
```

Symfony, bu Ã¶rnekte `App\Controller\MainController::homepage` adlÄ± bir route alias'Ä± ekler.

### Controller'da URL Ãœretmek

Controller'Ä±nÄ±z `AbstractController`'dan tÃ¼remiÅŸse, `generateUrl()` yardÄ±mcÄ± metodunu kullanabilirsiniz:

```php
// src/Controller/BlogController.php
namespace App\Controller;

use Symfony\Bundle\FrameworkBundle\Controller\AbstractController;
use Symfony\Component\HttpFoundation\Response;
use Symfony\Component\Routing\Attribute\Route;
use Symfony\Component\Routing\Generator\UrlGeneratorInterface;

class BlogController extends AbstractController
{
    #[Route('/blog', name: 'blog_list')]
    public function list(): Response
    {
        // Route argÃ¼manÄ± olmadan URL Ã¼retmek
        $signUpPage = $this->generateUrl('sign_up');

        // Route argÃ¼manlarÄ± ile URL Ã¼retmek
        $userProfilePage = $this->generateUrl('user_profile', [
            'username' => $user->getUserIdentifier(),
        ]);

        // VarsayÄ±lan olarak Ã¼retilen URL'ler "absolute path" olur.
        // FarklÄ± bir URL tipi Ã¼retmek iÃ§in Ã¼Ã§Ã¼ncÃ¼ argÃ¼manÄ± kullanabilirsiniz (Ã¶r. tam URL)
        $signUpPage = $this->generateUrl('sign_up', [], UrlGeneratorInterface::ABSOLUTE_URL);

        // Route yerelleÅŸtirildiyse, Symfony varsayÄ±lan olarak mevcut isteÄŸin locale'ini kullanÄ±r.
        // FarklÄ± bir '_locale' deÄŸeri ile URL Ã¼retmek iÃ§in parametre ekleyin
        $signUpPageInDutch = $this->generateUrl('sign_up', ['_locale' => 'nl']);

        // ...
    }
}
```
f you pass to the generateUrl() method some parameters that are not part of the route definition, they are included in the generated URL as a query string:


<div style="background:yellow;color:red; border-radius:8px; padding:16px; margin-bottom:16px;">
    EÄŸer <code>generateUrl()</code> metoduna, route tanÄ±mÄ±nda yer almayan bazÄ± parametreler verirseniz, bu parametreler Ã¼retilen URL'de query string olarak eklenir:
    <div class="terminal-wrapper bg-black-4 rounded-t" style="background:#222; border-radius:8px; margin-top:16px;">
        <div class="flex justify-between py-1 px-3" style="display:flex; justify-content:space-between; align-items:center; padding:8px 16px;">
            <div class="terminal-controls">
                <span>â—</span>
                <span>â—</span>
                <span>â—</span>
            </div>
            <div class="terminal-copy js-activate-clipboard">
                <span class="fa fa-clipboard text-white" title="Copy Code" style="cursor:pointer; font-size:18px;" onclick="navigator.clipboard.writeText('$this->generateUrl(\'blog\', [\'page\' => 2, \'category\' => \'Symfony\']);\n// \'blog\' route\'u sadece \'page\' parametresini tanÄ±mlar; Ã¼retilen URL:\n// /blog/2?category=Symfony')">ğŸ“‹</span>
                <span class="js-copy-button-text"></span>
            </div>
        </div>
        <div class="js-copy-clipboard-target">
            <pre class="notranslate" style="color:#fff; margin:0; padding:16px;"><code class="language-php">$this->generateUrl('blog', ['page' => 2, 'category' => 'Symfony']);
// 'blog' route'u sadece 'page' parametresini tanÄ±mlar; Ã¼retilen URL:
// /blog/2?category=Symfony</code></pre>
        </div>
    </div>
</div>

<div style="background:#f7b955; border-radius:8px; padding:12px; margin-bottom:16px; display:flex; align-items:center;">
    <span style="font-size:24px; margin-right:12px;">âš ï¸</span>
    <span style="color:#222; font-size:16px;">
        Nesneler, route parametresi olarak kullanÄ±ldÄ±ÄŸÄ±nda otomatik olarak string'e dÃ¶nÃ¼ÅŸtÃ¼rÃ¼lÃ¼r; ancak ekstra parametre olarak kullanÄ±ldÄ±klarÄ±nda dÃ¶nÃ¼ÅŸtÃ¼rÃ¼lmezler. Yani, bir nesneyi (Ã¶rneÄŸin Uuid) ekstra parametre olarak ekliyorsanÄ±z, aÃ§Ä±kÃ§a string'e dÃ¶nÃ¼ÅŸtÃ¼rmelisiniz:
    </span>
</div>
<div class="terminal-wrapper bg-black-4 rounded-t" style="background:#222; border-radius:8px; margin-bottom:16px;">
    <div class="flex justify-between py-1 px-3" style="display:flex; justify-content:space-between; align-items:center; padding:8px 16px;">
        <div class="terminal-controls">
            <span>â—</span>
            <span>â—</span>
            <span>â—</span>
        </div>
        <div class="terminal-copy js-activate-clipboard">
            <span class="fa fa-clipboard text-white" title="Copy Code" style="cursor:pointer; font-size:18px;" onclick="navigator.clipboard.writeText('$this->generateUrl(\'blog\', [\'uuid\' => (string) $entity->getUuid()]);')">ğŸ“‹</span>
            <span class="js-copy-button-text"></span>
        </div>
    </div>
    <div class="js-copy-clipboard-target">
        <pre class="notranslate" style="color:#fff; margin:0; padding:16px;"><code class="language-php">$this->generateUrl('blog', ['uuid' => (string) $entity->getUuid()]);</code></pre>
    </div>
</div>
```

Controller'Ä±nÄ±z AbstractController'dan tÃ¼remiyorsa, gerekli servisleri manuel olarak Ã§ekmeniz ve bir sonraki bÃ¶lÃ¼mdeki yÃ¶nergeleri takip etmeniz gerekir.

## Generating URLs in Services / Servislerde URL'lerin OluÅŸturulmasÄ±



Kendi servislerinizde URL oluÅŸturmak iÃ§in Symfony'nin `router` servisini inject ederek `generate()` metodunu kullanabilirsiniz. Servis otomatik baÄŸlama (autowiring) kullanÄ±yorsanÄ±z, sadece servis yapÄ±cÄ±sÄ±na bir argÃ¼man ekleyip `UrlGeneratorInterface` sÄ±nÄ±fÄ±yla tip belirterek yeterlidir:

```php
// src/Service/SomeService.php
namespace App\Service;

use Symfony\Component\Routing\Generator\UrlGeneratorInterface;

class SomeService
{
    public function __construct(
        private UrlGeneratorInterface $urlGenerator,
    ) {
    }

    public function someMethod(): void
    {
        // ...

        // route argÃ¼manÄ± olmadan bir URL oluÅŸtur
        $signUpPage = $this->urlGenerator->generate('sign_up');

        // route argÃ¼manlarÄ±yla bir URL oluÅŸtur
        $userProfilePage = $this->urlGenerator->generate('user_profile', [
            'username' => $user->getUserIdentifier(),
        ]);

        // varsayÄ±lan olarak oluÅŸturulan URL'ler "absolute path"tir.
        // FarklÄ± tÃ¼rde URL oluÅŸturmak iÃ§in Ã¼Ã§Ã¼ncÃ¼ bir opsiyonel argÃ¼man geÃ§
        $signUpPage = $this->urlGenerator->generate('sign_up', [], UrlGeneratorInterface::ABSOLUTE_URL);

        // route yerelleÅŸtirilmiÅŸse, Symfony varsayÄ±lan olarak mevcut isteÄŸin dilini kullanÄ±r
        // dili aÃ§Ä±kÃ§a belirtmek istiyorsan '_locale' parametresi geÃ§ir
        $signUpPageInDutch = $this->urlGenerator->generate('sign_up', ['_locale' => 'nl']);
    }
}
```

---

## Åablonlarda URL OluÅŸturulmasÄ±

Symfony ÅŸablonlarÄ±nda sayfalar arasÄ±nda baÄŸlantÄ± oluÅŸturma konusundaki ana makaleye bakÄ±n.

---

## JavaScript'te URL OluÅŸturulmasÄ±

JavaScript kodunuz Twig ÅŸablonunda yer alÄ±yorsa, `path()` ve `url()` Twig fonksiyonlarÄ±nÄ± kullanarak URL'leri oluÅŸturabilir ve JavaScript deÄŸiÅŸkenlerinde saklayabilirsiniz. JavaScript'e uygun olmayan karakterleri kaÃ§Ä±rmak iÃ§in `escape('js')` filtresi gerekir:

```twig
<script>
    const route = "{{ path('blog_show', {slug: 'my-blog-post'})|escape('js') }}";
</script>
```

JavaScript kodu dinamik olarak Ã§alÄ±ÅŸÄ±yorsa veya saf JavaScript kullanÄ±yorsanÄ±z, bu yÃ¶ntem iÅŸe yaramaz. Bu durumda, `FOSJsRoutingBundle` kullanmayÄ± dÃ¼ÅŸÃ¼nÃ¼n.

---

## Generating URLs in Commands / Komutlarda URL OluÅŸturulmasÄ±

Komutlarda URL oluÅŸturma, servislerdeki ile aynÄ± ÅŸekilde Ã§alÄ±ÅŸÄ±r. Tek fark, komutlar HTTP baÄŸlamÄ±nda Ã§alÄ±ÅŸmaz. Bu yÃ¼zden tam URL oluÅŸturduÄŸunuzda `http://localhost/` gibi varsayÄ±lan bir ana makine adÄ± kullanÄ±lÄ±r.

Bu sorunu Ã§Ã¶zmek iÃ§in, komutlar URL oluÅŸtururken kullanÄ±lacak "istek baÄŸlamÄ±"nÄ± tanÄ±mlayan `default_uri` seÃ§eneÄŸini yapÄ±landÄ±rÄ±n:

```php
// config/packages/routing.php
use Symfony\Config\FrameworkConfig;

return static function (FrameworkConfig $framework): void {
    $framework->router()->defaultUri('https://example.org/my/path/');
};
```

ArtÄ±k komutlarda URL oluÅŸturduÄŸunuzda beklediÄŸiniz sonuÃ§larÄ± alÄ±rsÄ±nÄ±z:

```php
// src/Command/MyCommand.php
namespace App\Command;

use Symfony\Component\Console\Attribute\AsCommand;
use Symfony\Component\Console\Style\SymfonyStyle;
use Symfony\Component\Routing\Generator\UrlGeneratorInterface;
// ...

#[AsCommand(name: 'app:my-command')]
class MyCommand
{
    public function __construct(
        private UrlGeneratorInterface $urlGenerator,
    ) {
    }

    public function __invoke(SymfonyStyle $io): int
    {
        $signUpPage = $this->urlGenerator->generate('sign_up');

        $userProfilePage = $this->urlGenerator->generate('user_profile', [
            'username' => $user->getUserIdentifier(),
        ]);

        $signUpPage = $this->urlGenerator->generate('sign_up', [], UrlGeneratorInterface::ABSOLUTE_URL);

        $signUpPageInDutch = $this->urlGenerator->generate('sign_up', ['_locale' => 'nl']);
    }
}
```

Note: VarsayÄ±lan olarak, web varlÄ±klarÄ± iÃ§in oluÅŸturulan URL'ler aynÄ± `default_uri` deÄŸerini kullanÄ±r. Bunu deÄŸiÅŸtirmek iÃ§in `asset.request_context.base_path` ve `asset.request_context.secure` container parametrelerini yapÄ±landÄ±rabilirsiniz.

---

## Checking if a Route Exists / Bir Rota Var mÄ± Kontrol Etmek

Dinamik uygulamalarda bir rota kullanmadan Ã¶nce var olup olmadÄ±ÄŸÄ±nÄ± kontrol etmeniz gerekebilir. Bu durumda `getRouteCollection()` metodunu kullanmayÄ±n Ã§Ã¼nkÃ¼ bu iÅŸlem yÃ¶nlendirme Ã¶nbelleÄŸini yeniden oluÅŸturur ve performansÄ± dÃ¼ÅŸÃ¼rÃ¼r.

Bunun yerine URLâ€™yi oluÅŸturmaya Ã§alÄ±ÅŸÄ±n ve rota yoksa fÄ±rlatÄ±lan `RouteNotFoundException` hatasÄ±nÄ± yakalayÄ±n:

```php
use Symfony\Component\Routing\Exception\RouteNotFoundException;

try {
    $url = $this->router->generate($routeName, $routeParameters);
} catch (RouteNotFoundException $e) {
    // rota tanÄ±mlÄ± deÄŸil...
}
```

---

### Forcing HTTPS on Generated URLs / OluÅŸturulan URL'lerde HTTPS Zorunlu KÄ±lmak

Sunucunuz SSL'yi bir proxy arkasÄ±nda sonlandÄ±rÄ±yorsa, Symfony'yi bu tÃ¼r bir proxy arkasÄ±nda Ã§alÄ±ÅŸacak ÅŸekilde yapÄ±landÄ±rmalÄ±sÄ±nÄ±z.

VarsayÄ±lan olarak oluÅŸturulan URL'ler mevcut isteÄŸin HTTP ÅŸemasÄ±nÄ± kullanÄ±r. Konsol komutlarÄ±nda HTTP isteÄŸi olmadÄ±ÄŸÄ± iÃ§in varsayÄ±lan olarak `http` kullanÄ±lÄ±r. Bunu her komutta `router.getContext()` ile veya kÃ¼resel olarak aÅŸaÄŸÄ±daki gibi yapÄ±landÄ±rarak deÄŸiÅŸtirebilirsiniz:

```php
// config/services.php
$container->parameters()
    ->set('router.request_context.scheme', 'https')
    ->set('asset.request_context.secure', true);
```

RotalarÄ±n kendisinde HTTPS zorunluluÄŸu tanÄ±mlamak iÃ§in `schemes` seÃ§eneÄŸini kullanÄ±n:

```php
// config/routes.php
use App\Controller\SecurityController;
use Symfony\Component\Routing\Loader\Configurator\RoutingConfigurator;

return static function (RoutingConfigurator $routes): void {
    $routes->add('login', '/login')
        ->controller([SecurityController::class, 'login'])
        ->schemes(['https']);
};
```

Bu durumda `path()` Twig fonksiyonu, isteÄŸin ÅŸemasÄ± HTTP ise tam bir URL oluÅŸturur:

```twig
{{ path('login') }}
```

Birden fazla route'a HTTPS zorunluluÄŸu getirmek istiyorsanÄ±z, import sÄ±rasÄ±nda `schemes(['https'])` kullanabilirsiniz:

```php
// config/routes/attributes.php
use Symfony\Component\Routing\Loader\Configurator\RoutingConfigurator;

return static function (RoutingConfigurator $routes): void {
    $routes->import('../../src/Controller/', 'attribute')
        ->schemes(['https']);
};
```

Alternatif olarak `requires_channel` ayarÄ±yla GÃ¼venlik (Security) bileÅŸeni Ã¼zerinden de HTTPS zorunluluÄŸu getirilebilir.

---

### Signing URIs / URI Ä°mzalama

Ä°mzalÄ± bir URI, URI iÃ§eriÄŸine baÄŸlÄ± bir hash deÄŸeri iÃ§erir. Bu ÅŸekilde, URIâ€™nin iÃ§eriÄŸi deÄŸiÅŸtirilmiÅŸ mi kontrol edilebilir. Symfony, URIâ€™leri imzalamak iÃ§in `UriSigner` servisini saÄŸlar:

```php
// src/Service/SomeService.php
namespace App\Service;

use Symfony\Component\HttpFoundation\UriSigner;

class SomeService
{
    public function __construct(
        private UriSigner $uriSigner,
    ) {
    }

    public function someMethod(): void
    {
        $url = 'https://example.com/foo/bar?sort=desc';

        $signedUrl = $this->uriSigner->sign($url);

        $uriSignatureIsValid = $this->uriSigner->check($signedUrl);

        $uriSignatureIsValid = $this->uriSigner->checkRequest($request);
    }
}
```

VarsayÄ±lan olarak imzalÄ± URIâ€™ler zaman aÅŸÄ±mÄ±na uÄŸramaz, fakat bir sona erme tarihi tanÄ±mlayabilirsiniz:

```php
$signedUrl = $this->uriSigner->sign($url, new \DateTimeImmutable('2050-01-01'));

$signedUrl = $this->uriSigner->sign($url, new \DateInterval('PT10S'));

$signedUrl = $this->uriSigner->sign($url, 4070908800);
```

---

### Ä°mzalÄ± URI GeÃ§ersizse Nedenini Ã–ÄŸrenme

Symfony 7.3 ile gelen `verify()` metodu sayesinde geÃ§ersiz imzalarÄ±n nedenini Ã¶ÄŸrenebilirsiniz:

```php
use Symfony\Component\HttpFoundation\Exception\ExpiredSignedUriException;
use Symfony\Component\HttpFoundation\Exception\UnsignedUriException;
use Symfony\Component\HttpFoundation\Exception\UnverifiedSignedUriException;

try {
    $uriSigner->verify($uri);
} catch (UnsignedUriException) {
    // URI imzalÄ± deÄŸil
} catch (UnverifiedSignedUriException) {
    // URI imzalÄ± ama imza geÃ§ersiz
} catch (ExpiredSignedUriException) {
    // URI imzalÄ± ama sÃ¼resi dolmuÅŸ
}
```

`Symfony Clock` yÃ¼klÃ¼yse, zaman hesaplamalarÄ±nda otomatik olarak kullanÄ±lÄ±r. Bu da testlerde zamanÄ± sahtelemek iÃ§in kullanÄ±labilir.

---

### âš ï¸ Warning (âš ï¸ UyarÄ±)

Routing ile Ã‡alÄ±ÅŸÄ±rken YaygÄ±n Hatalar

**Hata:**

```
Controller "App\\Controller\\BlogController::show()" requires that you
provide a value for the "$slug" argument.
```

Sebep: Controller metodunda `$slug` argÃ¼manÄ± var ama route tanÄ±mÄ± iÃ§inde `{slug}` parametresi yok. `/blog/show/{slug}` olarak dÃ¼zeltin ya da varsayÄ±lan deÄŸer atayÄ±n: `$slug = null`.

---

**Hata:**

```
Some mandatory parameters are missing ("slug") to generate a URL for route "blog_show".
```

Sebep: `blog_show` rotasÄ±na URL oluÅŸturulurken gerekli `slug` parametresi verilmedi. ÅÃ¶yle dÃ¼zeltilir:

```php
$this->generateUrl('blog_show', ['slug' => 'slug-value']);
```

veya Twig iÃ§inde:

```twig
{{ path('blog_show', {slug: 'slug-value'}) }}
```
